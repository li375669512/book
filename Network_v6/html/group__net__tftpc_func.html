<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>TFTP Client Routines</title>
<title>Network Component: TFTP Client Routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 6.7.7</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for IP Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__net__tftpc_func.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">TFTP Client Routines<div class="ingroups"><a class="el" href="group__service__tftp__server.html">TFTP Client &amp; Server</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>TFTP Client Routines provide access to a TFTP Server.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gac3c083d3164277c594180a38d47afaed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#gac3c083d3164277c594180a38d47afaed">tftp_client_fclose</a> (void *file)</td></tr>
<tr class="memdesc:gac3c083d3164277c594180a38d47afaed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close local file previously open in TFTP client.  <a href="#gac3c083d3164277c594180a38d47afaed">More...</a><br/></td></tr>
<tr class="separator:gac3c083d3164277c594180a38d47afaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2d85e638eb8a6f85b7feb07a790ec074"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#ga2d85e638eb8a6f85b7feb07a790ec074">tftp_client_fopen</a> (const char *fname, const char *mode)</td></tr>
<tr class="memdesc:ga2d85e638eb8a6f85b7feb07a790ec074"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open local file for reading or writing in TFTP client.  <a href="#ga2d85e638eb8a6f85b7feb07a790ec074">More...</a><br/></td></tr>
<tr class="separator:ga2d85e638eb8a6f85b7feb07a790ec074"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ff02df6d965842bdec3314a6d4c114f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#ga2ff02df6d965842bdec3314a6d4c114f">tftp_client_fread</a> (void *file, uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:ga2ff02df6d965842bdec3314a6d4c114f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read block of data from local file in TFTP client.  <a href="#ga2ff02df6d965842bdec3314a6d4c114f">More...</a><br/></td></tr>
<tr class="separator:ga2ff02df6d965842bdec3314a6d4c114f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6cbeb93d1686eebfc4d40acd44ac3a2d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#ga6cbeb93d1686eebfc4d40acd44ac3a2d">tftp_client_fwrite</a> (void *file, const uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:ga6cbeb93d1686eebfc4d40acd44ac3a2d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write block of data to local file in TFTP client.  <a href="#ga6cbeb93d1686eebfc4d40acd44ac3a2d">More...</a><br/></td></tr>
<tr class="separator:ga6cbeb93d1686eebfc4d40acd44ac3a2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8526cc734335fc66e08aace6ec595cf2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#ga8526cc734335fc66e08aace6ec595cf2">tftp_client_notify</a> (<a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9">tftpClientEvent</a> event)</td></tr>
<tr class="memdesc:ga8526cc734335fc66e08aace6ec595cf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the user application when TFTP client operation ends.  <a href="#ga8526cc734335fc66e08aace6ec595cf2">More...</a><br/></td></tr>
<tr class="separator:ga8526cc734335fc66e08aace6ec595cf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b91337ae39a8281b554e57555c98670"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#ga1b91337ae39a8281b554e57555c98670">tftp_client_put</a> (const uint8_t *ip_addr, uint16_t port, const char *src, const char *dst)</td></tr>
<tr class="memdesc:ga1b91337ae39a8281b554e57555c98670"><td class="mdescLeft">&#160;</td><td class="mdescRight">Put a file to remote TFTP server.  <a href="#ga1b91337ae39a8281b554e57555c98670">More...</a><br/></td></tr>
<tr class="separator:ga1b91337ae39a8281b554e57555c98670"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a8366e64d2c857ab76127a05b2491db"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#ga6a8366e64d2c857ab76127a05b2491db">tftp_client_get</a> (const uint8_t *ip_addr, uint16_t port, const char *src, const char *dst)</td></tr>
<tr class="memdesc:ga6a8366e64d2c857ab76127a05b2491db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve a file from remote TFTP server.  <a href="#ga6a8366e64d2c857ab76127a05b2491db">More...</a><br/></td></tr>
<tr class="separator:ga6a8366e64d2c857ab76127a05b2491db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga430a689c2105bfd5ae7f6406b850d4f9"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9">tftpClientEvent</a> { <br/>
&#160;&#160;<a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9acd1d3a1af5acd76c2230239df0d6f776">tftpClientSuccess</a> = 0, 
<br/>
&#160;&#160;<a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9af9aa6029135e2caeaa9f326ffb247a82">tftpClientTimeout</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9afc48e7b1b4a65ab4f0031a37bf27b1fd">tftpClientAccessDenied</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9a62ffa5172bd853e039431b4568c54340">tftpClientFileNotFound</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9acacb9e9f95299f2b2d8af4c5008c3924">tftpClientDiskFull</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9a46d5781bc9ade1c7855d61ee5d2e8deb">tftpClientError</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga430a689c2105bfd5ae7f6406b850d4f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">TFTP Client Events.  <a href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9">More...</a><br/></td></tr>
<tr class="separator:ga430a689c2105bfd5ae7f6406b850d4f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>TFTP Client Routines provide access to a TFTP Server. </p>
<p>TFTP routines are not reentrant. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga430a689c2105bfd5ae7f6406b850d4f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9">tftpClientEvent</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>TFTP Client Events. </p>
<p><b>Parameter for:</b></p>
<ul>
<li><a class="el" href="group__net__tftpc_func.html#ga8526cc734335fc66e08aace6ec595cf2">tftp_client_notify</a> </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ga430a689c2105bfd5ae7f6406b850d4f9acd1d3a1af5acd76c2230239df0d6f776"></a>tftpClientSuccess</em>&#160;</td><td class="fielddoc">
<p>File operation successful. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga430a689c2105bfd5ae7f6406b850d4f9af9aa6029135e2caeaa9f326ffb247a82"></a>tftpClientTimeout</em>&#160;</td><td class="fielddoc">
<p>Timeout on file operation. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga430a689c2105bfd5ae7f6406b850d4f9afc48e7b1b4a65ab4f0031a37bf27b1fd"></a>tftpClientAccessDenied</em>&#160;</td><td class="fielddoc">
<p>File access not allowed. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga430a689c2105bfd5ae7f6406b850d4f9a62ffa5172bd853e039431b4568c54340"></a>tftpClientFileNotFound</em>&#160;</td><td class="fielddoc">
<p>File not found. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga430a689c2105bfd5ae7f6406b850d4f9acacb9e9f95299f2b2d8af4c5008c3924"></a>tftpClientDiskFull</em>&#160;</td><td class="fielddoc">
<p>Disk full (local or remote) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga430a689c2105bfd5ae7f6406b850d4f9a46d5781bc9ade1c7855d61ee5d2e8deb"></a>tftpClientError</em>&#160;</td><td class="fielddoc">
<p>Generic TFTP client error. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac3c083d3164277c594180a38d47afaed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tftp_client_fclose </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close local file previously open in TFTP client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>pointer to the file to close. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p>The function <b>tftp_client_fclose</b> closes the file identified by the <em>file</em> stream pointer in the function argument.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>TFTP_Client_FS.c</b> module. </p>

</div>
</div>
<a class="anchor" id="ga2d85e638eb8a6f85b7feb07a790ec074"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * tftp_client_fopen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open local file for reading or writing in TFTP client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fname</td><td>name of the file to open. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>type of access:<ul>
<li>"rb" = opens a file for reading.</li>
<li>"wb" = opens a file for writing. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status information:<ul>
<li>Pointer to an open file or</li>
<li>NULL in case of an error.</li>
</ul>
</dd></dl>
<p>The function <b>tftp_client_fopen</b> opens a local file for reading or writing.</p>
<p>The argument <em>mode</em> defines the type of access permitted for the file <em>fname</em>. <em>mode</em> can have one of the following values: </p>
<table class="doxtable">
<tr>
<th>Mode</th><th>Description  </th></tr>
<tr>
<td>"rb"</td><td>Opens the file for reading. If the file does not exist, the function fails. </td></tr>
<tr>
<td>"wb"</td><td>Opens an empty file for writing. If the file exists already, then the content is cleared. </td></tr>
</table>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>TFTP_Client_FS.c</b> module.</p>
<p>Open local file for reading or writing in TFTP client. </p>

</div>
</div>
<a class="anchor" id="ga2ff02df6d965842bdec3314a6d4c114f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tftp_client_fread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read block of data from local file in TFTP client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>pointer to the file to read from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>block of memory to write data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of data to read in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes successfully read.</dd></dl>
<p>The function <b>tftp_client_fread</b> reads <em>len</em> bytes from the file identified by the <em>file</em> stream pointer in the function argument.</p>
<p>The argument <em>buf</em> is a pointer to the buffer where the function stores the read data.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>TFTP_Client_FS.c</b> module.</p>
<dl class="section note"><dt>Note</dt><dd>The function should read <em>len</em> bytes. The TFTP Client stops reading and closes the TFTP session, if the return value is 0 bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6cbeb93d1686eebfc4d40acd44ac3a2d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t tftp_client_fwrite </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write block of data to local file in TFTP client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>pointer to the file to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>block of memory to be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of data to write in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes successfully written.</dd></dl>
<p>The function <b>tftp_client_fwrite</b> writes a block of data to the file identified by the <em>file</em> stream pointer.</p>
<p>The argument <em>buf</em> points to the buffer containing the data to write to the file.</p>
<p>The argument <em>len</em> specifies the number of bytes to write to the file.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>TFTP_Client_FS.c</b> module.</p>
<dl class="section note"><dt>Note</dt><dd>The function must write <em>len</em> bytes. The TFTP Client stops writing, aborts data transfer, and closes the TFTP session if the return value is less than <em>len</em> bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="ga6a8366e64d2c857ab76127a05b2491db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> tftp_client_get </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve a file from remote TFTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip_addr</td><td>IP address of remote TFTP server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>port number of TFTP server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>remote file name, a null-terminated string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst</td><td>local file name, a null-terminated string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="rl__net_8h.html#a5675a3b88ee02986ae15ae3bb8135551">netStatus</a>.</dd></dl>
<p>The function <b>tftp_client_get</b> starts the TFTP client for transferring a file from a remote TFTP server to the local system. The TFTP client starts a TFTP session by connecting to a TFTP server on the UDP <em>port</em> specified in the function argument. If the port is not specified (<em>port</em> has a value of <span class="XML-Token">0</span>), then the system uses the standard TFTP server port <span class="XML-Token">69</span>.</p>
<p>The argument <em>ip_addr</em> points to an array of 4 bytes containing the dotted-decimal notation of the IP address of the TFTP server.</p>
<p>The arguments <em>src</em> and <em>dst</em> are pointers to 0-terminated names of source and destination files. Source file is a file on the TFTP server. Destination file is a local file to which the source file content will be copied. If the destination file is not specified (<em>dst</em> has a value of <span class="XML-Token">NULL</span>), then the source file name will be used as the destination file name.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> get_file (<span class="keywordtype">void</span>) {</div>
<div class="line">  <span class="keyword">const</span> uint8_t tftp_srv[4] = {192,168,2,253};</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__net__tftpc_func.html#ga6a8366e64d2c857ab76127a05b2491db">tftp_client_get</a> (tftp_srv, 0, <span class="stringliteral">&quot;my_file.c&quot;</span>, NULL) != <a class="code" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551a138e73e2c0ad9ef9426ac81ef809953b">netOK</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;File transfer not started, TFTP Client not ready.\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    printf(<span class="stringliteral">&quot;File transfer started.\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga8526cc734335fc66e08aace6ec595cf2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void tftp_client_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9">tftpClientEvent</a>&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the user application when TFTP client operation ends. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>TFTP client notification event. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is called by the system to inform about events.</dd></dl>
<p>The function <b>tftp_client_notify</b> is called automatically when an TFTP event occurred and notifies the user application when the TFTP client operation ends.</p>
<p>The argument <em>event</em> is a <a class="el" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9">tftpClientEvent</a> signal:</p>
<table class="doxtable">
<tr>
<th>Event </th><th>Description  </th></tr>
<tr>
<td><span class="XML-Token">tftpClientSuccess</span> </td><td>The file has been successfully transferred </td></tr>
<tr>
<td><span class="XML-Token">tftpClientTimeout</span> </td><td>TFTP Server response has timed out, and hence the TFTP client has aborted the operation </td></tr>
<tr>
<td><span class="XML-Token">tftpClientAccessDenied</span> </td><td>File access on TFTP server is not allowed for a specified file </td></tr>
<tr>
<td><span class="XML-Token">tftpClientFileNotFound</span> </td><td>The TFTP server was not able to find the specified file </td></tr>
<tr>
<td><span class="XML-Token">tftpClientDiskFull</span> </td><td>The TFTP server has run out of disk space, file transfer is not possible </td></tr>
<tr>
<td><span class="XML-Token">tftpClientError</span> </td><td>The TFTP client has encountered an error during file transfer process </td></tr>
</table>
<p>The function is in the <b>TFTP_Client_UIF.c</b> module.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Notify the user application when TFTP client operation ends.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__net__tftpc_func.html#ga8526cc734335fc66e08aace6ec595cf2">tftp_client_notify</a> (<a class="code" href="group__net__tftpc_func.html#ga430a689c2105bfd5ae7f6406b850d4f9">tftpClientEvent</a> event) {</div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga430a689c2105bfd5ae7f6406b850d4f9acd1d3a1af5acd76c2230239df0d6f776">tftpClientSuccess</a>:</div>
<div class="line">      <span class="comment">// File operation successful</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga430a689c2105bfd5ae7f6406b850d4f9af9aa6029135e2caeaa9f326ffb247a82">tftpClientTimeout</a>:</div>
<div class="line">      <span class="comment">// Timeout on file operation</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga430a689c2105bfd5ae7f6406b850d4f9afc48e7b1b4a65ab4f0031a37bf27b1fd">tftpClientAccessDenied</a>:</div>
<div class="line">      <span class="comment">// File access not allowed</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga430a689c2105bfd5ae7f6406b850d4f9a62ffa5172bd853e039431b4568c54340">tftpClientFileNotFound</a>:</div>
<div class="line">      <span class="comment">// File not found</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga430a689c2105bfd5ae7f6406b850d4f9acacb9e9f95299f2b2d8af4c5008c3924">tftpClientDiskFull</a>:</div>
<div class="line">      <span class="comment">// Disk full (local or remote)</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga430a689c2105bfd5ae7f6406b850d4f9a46d5781bc9ade1c7855d61ee5d2e8deb">tftpClientError</a>:</div>
<div class="line">      <span class="comment">// Generic TFTP client error</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1b91337ae39a8281b554e57555c98670"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> tftp_client_put </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Put a file to remote TFTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip_addr</td><td>IP address of remote TFTP server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>port number of TFTP server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>local file name, a null-terminated string. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">dst</td><td>remote file name, a null-terminated string. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="rl__net_8h.html#a5675a3b88ee02986ae15ae3bb8135551">netStatus</a>.</dd></dl>
<p>The function <b>tftp_client_put</b> starts the TFTP client to transfer a file from the local system to remote TFTP server. This causes the TFTP client to start a TFTP session by connecting to a TFTP server on the UDP <em>port</em> specified in the function argument. If the port is not specified (<em>port</em> has a value of <span class="XML-Token">0</span>), then the system uses a standard TFTP server port <span class="XML-Token">69</span>.</p>
<p>The argument <em>ip_addr</em> points to an array of 4 bytes containing the dotted-decimal notation of the IP address of the TFTP server.</p>
<p>The arguments <em>src</em> and <em>dst</em> are pointers to 0-terminated names of source and destination files. Source file is the local file to be sent. Destination file resides on the TFTP server to which the source file content will be copied. If the destination file is not specified (<em>dst</em> has a value of <span class="XML-Token">NULL</span>), then the source file name will be used as the destination file name.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> send_file (<span class="keywordtype">void</span>) {</div>
<div class="line">  uint8_t tftp_srv[4] = {192,168,2,253};</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code" href="group__net__tftpc_func.html#ga1b91337ae39a8281b554e57555c98670">tftp_client_put</a> (tftp_srv, 0, <span class="stringliteral">&quot;my_file.c&quot;</span>, NULL) != <a class="code" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551a138e73e2c0ad9ef9426ac81ef809953b">netOK</a>) {</div>
<div class="line">    printf(<span class="stringliteral">&quot;File transfer not started, TFTP Client not ready.\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    printf(<span class="stringliteral">&quot;File transfer started.\n&quot;</span>);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 25 2021 13:57:56 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
