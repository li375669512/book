<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Creating a Network Application</title>
<title>Network Component: Creating a Network Application</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 6.7.7</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for IP Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('network_create_app.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Creating a Network Application </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The steps to create a microcontroller application that uses TCP/IP communication are:</p>
<ol type="1">
<li>Select <a class="el" href="network_create_app.html#nw_RTE_Software_Component_Selection">RTE Components</a> along with the Network Services that are required for your application.</li>
<li><a class="el" href="network_create_app.html#nw_Driver_Configuration">Enable the Network Driver and Controller</a> that is integrated in the microcontroller.</li>
<li>Configure the various <a class="el" href="network_create_app.html#nw_Device_Configuration">Network Components</a>.</li>
<li>Configure the <a class="el" href="network_create_app.html#nw_system_resources">system resources</a> according to the network component's <a class="el" href="nw_resource_requirements.html">Resource Requirements</a>.</li>
<li>Implement the <a class="el" href="network_create_app.html#nw_User_Code_Implementation">User Code</a>.</li>
</ol>
<h1><a class="anchor" id="nw_RTE_Software_Component_Selection"></a>
RTE Component Selection</h1>
<p>Only a few steps are necessary to complete the RTE Component selection:</p>
<ol type="1">
<li>From the Network Component:<ul>
<li>Select <b>Network:CORE</b> that provides the basic functionality required for TCP/IP communication.</li>
<li>Select your desired <b>Network:Interface</b>. For example, set <b>Network:Interface:Ethernet</b> to '1' for enabling Ethernet communication.</li>
<li>Select the desired Network Services. For example, select <b>Network:Service:Web Server Compact</b> to create a simple Web Server.</li>
<li>Select the desired Network Sockets. For example, select <b>Network:Socket:TCP</b> for TCP communication. Usually, you will also select <b>Network:Socket:UDP</b> for stateless communication.</li>
</ul>
</li>
<li>From the Drivers Component:<ul>
<li>If you do Ethernet communication, select appropriate <b>Ethernet MAC</b> and <b>PHY</b> drivers suitable for your application. For PPP or SLIP communication simply select the <b>UART</b> driver.</li>
</ul>
</li>
<li>From the Device Component:<ul>
<li>Additional device specific drivers may be required according to the validation output.</li>
</ul>
</li>
<li>From the CMSIS Component:<ul>
<li>Select the <b>CMSIS:CORE</b> to provide the core interface to the processor.</li>
<li>Select a suitable <b>CMSIS:RTOS</b> that is a required for the Networking Component.</li>
</ul>
</li>
</ol>
<div class="image">
<img src="nw_rte_comp_selection.png" alt="nw_rte_comp_selection.png"/>
<div class="caption">
RTE Component for Networking</div></div>
<h1><a class="anchor" id="nw_Driver_Configuration"></a>
Network Driver and Controller Configuration</h1>
<p>The Network Device Driver and the Network Controller of the microcontroller need to be correctly configured. This means:</p>
<ul>
<li>The <a class="el" href="using_ethernet_interfaces.html">Ethernet</a> or <b>UART</b> (for <a class="el" href="using_slip_interfaces.html">SLIP</a>/<a class="el" href="using_ppp_interfaces.html">PPP</a>) is typically configured in the <b>RTE_Device.h</b> configuration file. While this file provides multiple options, it is typically sufficient to enable the Ethernet/UART related to this driver. Some microcontrollers may require settings that are related to a physical layer interface (PHY).</li>
<li>The Network Controller of the microcontroller typically needs specific clock settings. Consult the user's guide of the microcontroller to understand the requirements. Alternatively you may copy the setup of a Network example that is provided for various evaluation boards.</li>
</ul>
<h1><a class="anchor" id="nw_Device_Configuration"></a>
Network Configuration</h1>
<p>All configuration files for the Network Component are listed in the Project window below the Component Class "Network".</p>
<h2>Network Core </h2>
<p>The Network Core configuration file <b><a class="el" href="_net___config_8c.html">Net_Config.c</a></b> contains the setting for the <b>Local Host Name</b>. This is a name under which the network device can be accessed on a local area network (<b>LAN</b>). It usually requires a <a class="el" href="using_ethernet_interfaces.html">DHCP</a> server to be present in the LAN. This name is very useful if you don't know the IP address that has been assigned to your device by the DHCP server.</p>
<p>The <b>Memory Pool Size</b> specifies the amount of RAM in bytes allocated for the memory pool. The buffers for the network packets are allocated from this memory pool. Usually, the default value of 12000 bytes is sufficient.</p>
<h2>Network Interface </h2>
<p>The Network Interface configuration files <b>Net_Config_<em>Interface</em>_0.h</b> contain the general IP address settings. You also need to specify the hardware driver number for the used interface. In case of Ethernet for example, this is usually 0. But if you are using SLIP or PPP over a serial connection, you need to specify the hardware driver number of the exact UART you wish to use. All settings for the different interfaces are described here:</p>
<ul>
<li><a class="el" href="using_ethernet_interfaces.html#using_ethernet_interfaces_conf">Net_Config_ETH_0.h</a></li>
<li><a class="el" href="using_ppp_interfaces.html#using_ppp_interfaces_conf">Net_Config_PPP_0.h</a></li>
<li><a class="el" href="using_slip_interfaces.html#using_slip_interfaces_conf">Net_Config_SLIP_0.h</a></li>
</ul>
<h2>Network Socket </h2>
<p>Usually, the needs of most applications are served by using the default settings for the sockets. Of course, there are configuration files for all three socket types that are specified in</p>
<ul>
<li><a class="el" href="using_network_sockets_bsd.html#using_network_sockets_bsd_conf">Net_Config_BSD.h</a></li>
<li><a class="el" href="using_network_sockets_tcp.html#using_network_sockets_tcp_conf">Net_Config_TCP.h</a></li>
<li><a class="el" href="using_network_sockets_udp.html#using_network_sockets_udp_conf">Net_Config_UDP.h</a></li>
</ul>
<h2>Network Service </h2>
<p>The configuration files for all the Network Services are explained in the respective <a class="el" href="using_network_services.html">Services</a> section.</p>
<h1><a class="anchor" id="nw_system_resources"></a>
System Resource Configuration</h1>
<p>For proper operation, the Network Component requires some system configuration settings. The requirements are:</p>
<ul>
<li>Additional <b>stack</b> size of <b>512 bytes</b>. This can be configured in the device's <a href="http://www.keil.com/support/man/docs/gsac/gsac_startupcodecortex.htm" class="el" target="_blank">startup_device.s</a> file (<code>Stack_Size</code>).</li>
<li>The Network component uses a single CMSIS-RTOS thread (<code>eth_thread</code>) when Ethernet Interface is enabled. So you need to increase the number of concurrent running threads by 1. The default thread stack size should be at least <b>512 Bytes</b>. Also, <b>User Timers</b> need to be enabled. All these changes must be done in the be done in the <a href="http://www.keil.com/pack/doc/cmsis/RTX/html/_configure.html" class="el" target="_blank">RTX_Conf_CM.c</a> file.</li>
</ul>
<p>For more information, check the Network component's <a class="el" href="nw_resource_requirements.html">Resource Requirements</a> section.</p>
<h1><a class="anchor" id="nw_User_Code_Implementation"></a>
User Code Implementation</h1>
<p><a href="http://www.keil.com/support/man/docs/uv4/uv4_ca_sourcefiles.htm" class="el" target="_blank">User code template</a> files provide access to all functions that are required to communicate over the Network. The available functions are explained in the <a href="./modules.html" class="el">Reference</a> section of the Network Component. These routines can be adapted to the needs of the microcontroller application, in case more functionality is needed.</p>
<p>The following templates are available for the Network component: </p>
<table class="doxtable">
<tr>
<th>Template Name</th><th>User Functions  </th></tr>
<tr>
<td>DNS_Client.c </td><td><code>dns_cbfunc</code> (Callback function for notification about DNS client events), <code>resolve_host</code> (DNS resolving process) </td></tr>
<tr>
<td>FTP_Client_UIF.c </td><td><a class="el" href="group__net__ftpc_func.html#ga6d15b119772715640e239d7d8ddbc807">ftp_client_request</a> (Request parameters for FTP client session), <a class="el" href="group__net__ftpc_func.html#ga32eb0d197bb79ae76ef5e72ed67e38c8">ftp_client_notify</a> (Notify the user application when FTP client operation ends) </td></tr>
<tr>
<td>FTP_Server_Access.c </td><td><a class="el" href="group__net__ftps_func.html#ga6446d412f03ba3f2f0255ec93fb906fd">ftp_accept_client</a> (Accept or deny connection from remote FTP client) </td></tr>
<tr>
<td>FTP_Server_Event.c </td><td><a class="el" href="group__net__ftps_func.html#gacb4c3796fefb67d24087360da6bd853b">ftp_server_notify</a> (Notify the user application about events in FTP server service) </td></tr>
<tr>
<td>FTP_Server_Multiuser.c </td><td><a class="el" href="group__net__ftps_func.html#gaec98669546e0d94ae86919f81c364a8d">ftp_check_username</a> (Check if an user account exists), <a class="el" href="group__net__ftps_func.html#ga22ac5f27f1998726a4d7b9930f6365e7">ftp_check_password</a> (Check user account password), <a class="el" href="group__net__ftps_func.html#gae755a78e225ccc47b5a81f48184fc9be">ftp_file_access</a> (Check if remote user is allowed to access a file) </td></tr>
<tr>
<td>HTTP_Server_Access.c </td><td><a class="el" href="group__net__http_func.html#ga5a4b5fea162e7fecf7de6a9672ceeb3f">http_accept_client</a> (Accept or deny connection from remote HTTP client) </td></tr>
<tr>
<td>HTTP_Server_CGI.c </td><td><a class="el" href="group__net__http_func.html#ga344e2edc2397fa27fd78354c27312bcc">cgi_process_query</a> (Process query string received by GET request), <a class="el" href="group__net__http_func.html#gad489f3562d1482e32ffa11f8045333cb">cgi_process_data</a> (Process data received by POST request), <a class="el" href="group__net__http_func.html#ga977b2d34678313ddbc047fd4f5b2e55b">cgi_script</a> (Generate dynamic web data from a script line) </td></tr>
<tr>
<td>HTTP_Server_Error.c </td><td><code>http_error</code> (Define HTTP error messages) </td></tr>
<tr>
<td>HTTP_Server_Multiuser.c </td><td><a class="el" href="group__net__http_func.html#ga35b6f62f47735bb08ba5261522b87b9e">http_check_account</a> (Check if an user account exists), <a class="el" href="group__net__http_func.html#ga34d2f0e562a5e226704ac38ed14a01e7">http_file_access</a> (Check if remote user is allowed to access a file) </td></tr>
<tr>
<td>SMTP_Client_UIF.c </td><td><a class="el" href="group__net__smtp_func.html#gaf0d9b74132f2ae67acba57d6ceffc03d">smtp_client_request</a> (Request parameters for SMTP client session), <a class="el" href="group__net__smtp_func.html#gad1a88de7806a66596fda083baf21ff38">smtp_client_notify</a> (Notify the user application when SMTP client operation ends), <a class="el" href="group__net__smtp_func.html#ga5c8337046d9594d7fbf1df4fb0490779">smtp_client_accept_authentication</a> (Accept or deny authentication requested by SMTP server) </td></tr>
<tr>
<td>SNMP_Agent_MIB.c </td><td><a class="el" href="_s_n_m_p___agent___m_i_b_8c.html#ab75a4b510f171e5230edf525c9b2215d">snmp_mib</a> (MIB data table) </td></tr>
<tr>
<td>TCP_Socket_Client.c </td><td><code>tcp_cb_client</code> (Notify the user application about TCP socket events), <code>send_data</code> (Connect to TCP server and send data) </td></tr>
<tr>
<td>TCP_Socket_Server.c </td><td><code>tcp_cb_server</code> (Notify the user application about TCP socket events) </td></tr>
<tr>
<td>Telnet_Server_Access.c </td><td><a class="el" href="group__net__tnet_func.html#ga0cd82707d3b57ed0bbb8d4c6905f2603">telnet_accept_client</a> (Accept or deny connection from remote Telnet client) </td></tr>
<tr>
<td>Telnet_Server_Multiuser.c </td><td><a class="el" href="group__net__tnet_func.html#gac63ee3c10bc9434013d379b993ab5933">telnet_check_username</a> (Check if an user account exists), <a class="el" href="group__net__tnet_func.html#ga089c1c06e0033ab6a12629b9511ab3c3">telnet_check_password</a> (Check user account password) </td></tr>
<tr>
<td>Telnet_Server_UIF.c </td><td><a class="el" href="group__net__tnet_func.html#ga90a340a7cbf1951f9ab9ad1e076a25b9">telnet_server_message</a> (Request message for Telnet server session), <a class="el" href="group__net__tnet_func.html#ga386068ea51b83a55a233812eb8a7961a">telnet_server_message_poll</a> (Poll the upper-layer user application for unsolicited messages), <a class="el" href="group__net__tnet_func.html#ga595b62b7d994c87579f174c39c55a072">telnet_server_process</a> (Process a command and generate response) </td></tr>
<tr>
<td>TFTP_Client_UIF.c </td><td><code>tftp_client_notify</code> (Notify the user application when TFTP client operation ends) </td></tr>
<tr>
<td>TFTP_Server_Access.c </td><td><a class="el" href="group__net__tftps_func.html#ga50f893567304edb00b5c972165fdaf49">tftp_accept_client</a> (Accept or deny connection from remote TFTP client) </td></tr>
<tr>
<td>UDP_Socket.c </td><td><code>udp_cb_func</code> (Notify the user application about UDP socket events), <code>send_udp_data</code> (Send UDP data to destination client) </td></tr>
</table>
<h1><a class="anchor" id="nw_runtime_config"></a>
Runtime Configuration</h1>
<p>Each embedded Ethernet device must have a unique <b>MAC</b> <b>address</b>, <b>IP</b> <b>address</b>, and <b>hostname</b>. This is very important when multiple devices are connected to the same LAN. Otherwise, network collisions might occur, network communications on a local LAN might be disturbed, and the system might not work.</p>
<p>You can use the same application code for serial production of embedded devices. The <b>runtime</b> <b>configuration</b> feature allows you to read configuration parameters from the EEPROM and configure the Ethernet network interface for each embedded device differently.</p>
<ul>
<li>The <b>MAC</b> <b>address</b> is written to the Ethernet controller registers when the controller initializes (when calling the function <a class="el" href="group__net__system__functions.html#gac115122a03cf6b4b8874045f88e6ac5f">net_initialize</a>). For this reason, <b>ETH_CFG.MacAdr</b> must be set before the system initializes.</li>
<li>The Ethernet interface configuration parameters must be set after the system initializes. The structure <a class="el" href="group__net__internal__system__functions.html#struct_l_o_c_a_l_m" title="Local Machine info. ">LOCALM</a> can simply be overwritten with new values.</li>
<li>The <b>local host name</b> can be changed by overwriting the default value, which is set in the <b>Net_Config.c</b> system configuration file. The local host name enables the embedded system to be accessed using the name instead of the IP address.</li>
<li><b>Dynamic</b> <b>Host</b> <b>Configuration</b> can be disabled at runtime. In this case, user provided network parameters defined in the <b>Net_Config_ETH_0.h</b> configuration file are used instead. The DHCP Client can be disabled by calling the function <a class="el" href="group__net__eth.html#ga5891fe7e80c75a1c36f7bb33d567a228">dhcp_disable</a> after the system initializes. The DHCP Client must be enabled in the configuration so that the DHCP Client code links to the application code.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>You can change the <a class="el" href="group__net__internal__system__functions.html#struct_l_o_c_a_l_m" title="Local Machine info. ">LOCALM</a> Ethernet IP parameters also while the system is working. See the <a class="el" href="_compact__web__server__example.html">HTTP Server</a>. The Ethernet controller MAC address can only be changed when the system starts. It is not advisable to change it later.</dd></dl>
<h1><a class="anchor" id="nw_debugging"></a>
Debugging</h1>
<p>In the <b>Manage Run-Time Environment</b> window, the Network Core can be configured for two different variants:</p>
<ul>
<li><b>Debug</b>: this variant includes debug libraries with debugging information and messages that are sent to stdio. Use this variant when debugging your application.</li>
<li><b>Release</b>: this variant does not include debugging code. Use this variant when deploying the application.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>If the target system has only one serial port that is used by the PPP or SLIP Network Interface, then do not enable the debug mode. The debug messages will interfere with the IP packets and the system might malfunction or crash.</li>
<li>If the debug mode is used on a high traffic LAN, the system might block. Disable the debug mode in this case.</li>
</ul>
</dd></dl>
<h2>Enabling Debug </h2>
<p>To enable debugging with the Network Component, simply choose the <b>Debug</b> variant in the <b>Manage Run-Time Environment</b> window:</p>
<div class="image">
<img src="nw_debug_variant.png" alt="nw_debug_variant.png"/>
</div>
<p>All necessary files, such as the <b>Net_Debug.c</b> file and the debug library will be automatically added to your project.</p>
<h2>Debug Levels </h2>
<p>The system is made up of several modules that output debug messages. It is possible to configure the debug output for each module separately. This can be done in the <b>Net_Debug.c</b> file. There are three debug levels available: </p>
<table class="doxtable">
<tr>
<th>Level </th><th>Description  </th></tr>
<tr>
<td>Off </td><td>The debug messages for the selected module are <b>disabled</b>. </td></tr>
<tr>
<td>Errors Only</td><td>Only error messages are output. This mode is useful for error tracking. </td></tr>
<tr>
<td>Full Debug </td><td>In this mode, <b>all</b> debug messages are output. </td></tr>
</table>
<p>The following debug options are available:</p>
<ul>
<li><b>Print Time Stamp</b> switch enables or disables printing the time information with debug messages. If this switch is not enabled, the timing information is not printed.</li>
<li><b>Debug level</b> for each module defines what kind of debug messages are printed.</li>
</ul>
<p>The owner module of the displayed debug message is identified by the message prefix. The following system and application modules are configurable for debugging: </p>
<table class="doxtable">
<tr>
<th>ID </th><th>Module </th><th>Description  </th></tr>
<tr>
<td>MEM </td><td>Memory Management Debug</td><td>Allocates and releases frame buffers. </td></tr>
<tr>
<td>ETH </td><td>Ethernet Debug </td><td>Handles Ethernet link. </td></tr>
<tr>
<td>PPP </td><td>PPP Debug </td><td>Handles serial line direct or modem connection PPP link. </td></tr>
<tr>
<td>SLIP </td><td>SLIP Debug </td><td>Handles serial line direct or modem connection SLIP link. </td></tr>
<tr>
<td>ARP </td><td>ARP Debug </td><td>Handles Ethernet MAC address resolution and caching. </td></tr>
<tr>
<td>IP </td><td>IP Debug </td><td>Processes the IP network layer. </td></tr>
<tr>
<td>ICMP </td><td>ICMP Debug </td><td>Processes ICMP messages. Best known example is the ping. </td></tr>
<tr>
<td>IGMP </td><td>IGMP Debug </td><td>Processes IGMP messages, Hosts groups and IP Multicasting. </td></tr>
<tr>
<td>UDP </td><td>UDP Debug </td><td>Processes UDP frames. </td></tr>
<tr>
<td>TCP </td><td>TCP Debug </td><td>Processes TCP frames. </td></tr>
<tr>
<td>NBNS </td><td>NBNS Debug </td><td>The NetBIOS Name Service maintains name access to your hardware. </td></tr>
<tr>
<td>DHCP </td><td>DHCP Debug </td><td>Handles automatic configuration of IP address, Net mask, Default Gateway, and Primary and Secondary DNS servers. </td></tr>
<tr>
<td>DNS </td><td>DNS Debug </td><td>Handles the resolution of the IP address from a host name. </td></tr>
<tr>
<td>SNMP </td><td>SNMP Debug </td><td>Manages devices on IP network. </td></tr>
<tr>
<td>SNTP </td><td>SNTP Debug </td><td>Manages clock synchronization over the network. </td></tr>
<tr>
<td>BSD </td><td>BDS Debug </td><td>Processes TCP and UDP frames via standard BSD Sockets API. </td></tr>
<tr>
<td>HTTP </td><td>HTTP Server Debug </td><td>Delivers web pages on the request to web clients. </td></tr>
<tr>
<td>FTP </td><td>FTP Server Debug </td><td>Manages the files stored on the server and serves the file requests received from the clients. </td></tr>
<tr>
<td>FTPC </td><td>FTP Client Debug </td><td>Connects to FTP server to transfer files on the server, and to manage files stored on the server. </td></tr>
<tr>
<td>TNET </td><td>Telnet Server Debug </td><td>Allows remote clients to control the system using the command line interface. </td></tr>
<tr>
<td>TFTP </td><td>TFTP Server Debug </td><td>A simple service which allows you to send files to or read files from the server. </td></tr>
<tr>
<td>TFTPC </td><td>TFTP Client Debug </td><td>Connects to TFTP server to send or receive files. </td></tr>
<tr>
<td>SMTP </td><td>SMTP Client Debug </td><td>Connects to SMTP server to send emails. </td></tr>
</table>
<p>An example of the debug output is: </p>
<div class="fragment"><div class="line">015.0 ETH:*** Processing frame ***</div>
<div class="line">015.0 ETH: Dest.MAC: 1E:30:6C:A2:45:4E</div>
<div class="line">015.0 ETH: Src. MAC: 00:11:43:A4:FE:40</div>
<div class="line">015.0 ETH: Protocol: IP</div>
<div class="line">015.0 ETH: Length  : 66 bytes</div>
<div class="line">015.0 IP :*** Processing frame ***</div>
<div class="line">015.0 IP : Src. IP : 192.168.1.1</div>
<div class="line">015.0 IP : Dest.IP : 192.168.1.5</div>
<div class="line">015.0 IP : Protocol: TCP</div>
<div class="line">015.0 IP : Identif.: 0xBC73</div>
<div class="line">015.0 IP : Length  : 52 bytes</div>
<div class="line">015.0 IP : Frame valid, IP version 4 OK</div>
<div class="line">015.0 TCP:*** Processing frame ***</div>
<div class="line">015.0 TCP: Src. Port: 4568</div>
<div class="line">015.0 TCP: Dest.Port: 80</div>
<div class="line">015.0 TCP: Seq. Num.: 4132762560</div>
<div class="line">015.0 TCP: Ack. Num.: 0</div>
<div class="line">015.0 TCP: Flags    : SYN</div>
<div class="line">015.0 TCP: Win. Size: 65535</div>
<div class="line">015.0 TCP: Checksum : 0xEF81</div>
<div class="line">015.0 TCP: Frame len: 32 bytes</div>
<div class="line">015.0 TCP: Allocated Socket 2, port 80</div>
<div class="line">015.0 TCP: Socket 2, State LISTEN</div>
<div class="line">015.0 TCP: Process Options, 12 bytes</div>
<div class="line">015.0 TCP: Remote MSS: 1460</div>
<div class="line">015.0 TCP: Next state SYN_REC</div>
</div><!-- fragment --><p> In the above example, Ethernet, IP and TCP debug messages are enabled:</p>
<ul>
<li>Received Ethernet packets are processed by the Ethernet layer and a debug message containing Ethernet header information is printed out. Ethernet debug information contains source and destination MAC address, Ethernet frame length and Ethernet protocol type.</li>
<li>The packet is then passed to the IP layer. IP layer prints out IP debug messages containing the IP header information such as source and destination IP address, frame length, protocol type etc.</li>
<li>When the IP layer has processed the packet, the packet is passed to the upper TCP layer. TCP layer prints out TCP debug messages containing the TCP header information such as source and destination ports, sequence and acknowledge numbers, checksum value, frame length etc.</li>
</ul>
<h2>Redirecting Output </h2>
<p>Debug messages are output to a standard IO port. The <a href="http://www.keil.com/support/man/docs/gsac/gsac_lowlevelroutinescortex.htm" class="el" target="_blank">sendchar</a> function outputs a single character. If required, you can customize this function to send the debug messages to some other device. In most cases, a serial UART is used to print out the debug messages.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>When the sendchar function runs in polling mode, printing all debug messages significantly reduces the performance. The preferred way is to rewrite the sendchar function to work in the interrupt mode.</li>
<li>Use the <b>highest baud rate</b> possible to reduce the impact on performance from printing the debug messages.</li>
<li>If the debug mode is enabled and the embedded system is connected to a <b>high traffic LAN</b> with plenty of broadcast packets, the system might malfunction.</li>
<li>Printing debug messages blocks out the system task scheduler during the time when the message is being sent from the serial port. The incoming IP packets accumulate in the memory. This soon causes an <b>out of memory </b>error. Any further incoming packets are lost until some memory is released.</li>
</ul>
</dd></dl>
<h2>Localhost </h2>
<p>The <b>localhost</b> is the standard host name given to the address of the <b>loopback</b> network interface. The IP address of the localhost is 127.0.0.1. The packets, destined to the localhost address, are routed back internally by the IP layer of the Network Component.</p>
<p>Using the loopback interface is useful for <b>testing software</b>, since it bypasses local network interface hardware. Connecting to locally hosted network services using loopback addresses puts less of a load on network resources.</p>
<p>You can use the local host IP address to communicate between different applications using the socket interface on the same system, for example between a FTP server and FTP client. The FTP client connects to FTP server and manage files on FTP server using the localhost address. Of course the files are manipulated locally on the same system. No IP packets actually appear on any of the hardware interfaces. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 25 2021 13:57:55 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
