<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>UDP Socket</title>
<title>Network Component: UDP Socket</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 6.7.7</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for IP Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('using_network_sockets_udp.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">UDP Socket </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This section describes how to use the <b>User Datagram Protocol (UDP)</b> in the Network Component. UDP runs on top of the Internet Protocol (IP) and was developed for applications that do not require reliability, acknowledgement, or flow control features at the transport layer. This <b>simple protocol</b> provides transport layer addressing in the form of UDP ports and an optional checksum capability.</p>
<p>UDP is a very simple protocol. Messages, so called <b>datagrams</b>, are sent to other hosts on an IP network without the need to set up special transmission channels or data paths beforehand. The UDP socket only needs to be opened for communication. It listens for incoming messages and sends outgoing messages on request.</p>
<h1><a class="anchor" id="sending_udp"></a>
Sending UDP Data</h1>
<p>UDP is a byte stream service. It does not know anything about the format of the data being sent. It simply takes the data, <b>encapsulates</b> it into a UDP packet, and sends it to the remote peer.</p>
<p>The UDP protocol does not wait for any acknowledgement and is unable to detect any lost packets. When acknowledgement or detection is required, it must be done by the application layer. However, it is better to use a <a class="el" href="using_network_sockets_tcp.html">TCP Socket</a> for communication when acknowledgement is necessary.</p>
<p>To send data via UDP, you first need to request a buffer to be allocated using <a class="el" href="group__udp__routines.html#ga836d0644c9cbe14abee14a1127e112f0">udp_get_buf</a>. Then, fill the buffer with the data to be sent and send it using <a class="el" href="group__udp__routines.html#ga9acc06602434d00a35d2e64a0549f137">udp_send</a>. The buffer will be released by the Network Component automatically. If the buffer is not valid (not allocated with the <a class="el" href="group__udp__routines.html#ga836d0644c9cbe14abee14a1127e112f0">udp_get_buf</a> function), the buffer is ignored.</p>
<p>The Network Component does not send 0-length packets. So it is possible to release a buffer that has been allocated, by simply calling <a class="el" href="group__udp__routines.html#ga9acc06602434d00a35d2e64a0549f137">udp_send</a> with parameter <em>len</em> = 0.</p>
<h1><a class="anchor" id="example_udp"></a>
Example for Sending UDP Data</h1>
<p>This example demonstrates the basic concept of sending a large amount of data using a UDP socket.</p>
<ul>
<li>The example sends 64 Kbytes to the remote IP address 192.168.0.100, which is listening on port 1000.</li>
<li>The UDP socket will be allocated permanently and will not be released when the data is sent.</li>
<li>The data is sent as a stream of bytes.</li>
<li>The UDP socket does not wait for acknowledge from the remote peer to ascertain whether the data has been accepted. For this reason, a very simple acknowledge protocol is added to the example. The data will be sent in 512-byte blocks. Upon receiving the packet, the remote peer will send back a simple UDP packet with an acknowledgement. The acknowledgement is simply an index of the received packet starting with 0.</li>
</ul>
<p>The steps for this example are as follows:</p>
<ol type="1">
<li>Initialize the Network Component (using <a class="el" href="group__net__system__functions.html#gac115122a03cf6b4b8874045f88e6ac5f">net_initialize</a>) and allocate a free UDP Socket (using <a class="el" href="group__udp__routines.html#ga614107cc1ce34562e8b0a525917eb5ec">udp_get_socket</a>) and open it for communication (using <a class="el" href="group__udp__routines.html#gaaa448546b5d13fcd58aad9d488d72f1f">udp_open</a>): <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;rl_net.lib&quot;</span></div>
<div class="line"></div>
<div class="line">int32_t udp_soc;</div>
<div class="line">uint16_t bindex;</div>
<div class="line"><span class="keywordtype">bool</span> wait_ack;</div>
<div class="line"></div>
<div class="line"><span class="keywordtype">void</span> main (<span class="keywordtype">void</span>) {</div>
<div class="line">  <a class="code" href="group__net__system__functions.html#gac115122a03cf6b4b8874045f88e6ac5f">net_initialize</a> ();</div>
<div class="line">  udp_soc = <a class="code" href="group__udp__routines.html#ga614107cc1ce34562e8b0a525917eb5ec">udp_get_socket</a> (0, <a class="code" href="rl__net_8h.html#a74810213cb986d3bd3558f5b99514155">UDP_OPT_SEND_CHECKSUM</a> | <a class="code" href="rl__net_8h.html#ab968ec8b0c4c6b8ef0d892351d7edcc2">UDP_OPT_VERIFY_CHECKSUM</a>, udp_callback);</div>
<div class="line">  <a class="code" href="group__udp__routines.html#gaaa448546b5d13fcd58aad9d488d72f1f">udp_open</a> (udp_soc, 0);</div>
<div class="line">  bindex   = 0;</div>
<div class="line">  wait_ack = <span class="keyword">false</span>;</div>
</div><!-- fragment --></li>
<li>Run <a class="el" href="group__net__system__functions.html#gaafbf279f22e31e4822d9025b9e986d22">net_main</a> of the Network Component and call the <b>send_data()</b> function from an endless loop: <div class="fragment"><div class="line">  <span class="keywordflow">while</span> (1) {</div>
<div class="line">    <a class="code" href="group__net__system__functions.html#gaafbf279f22e31e4822d9025b9e986d22">net_main</a> ();</div>
<div class="line">    send_data ();</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>The <b>send_data()</b> function sends UDP Data and waits for acknowledge. Note that the UDP sockets do not support any acknowledgement. This example provides its own acknowledgement. <div class="fragment"><div class="line"><span class="keywordtype">void</span> send_data (<span class="keywordtype">void</span>) {</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">const</span> uint8_t rem_IP[4] = {192,168,0,100};</div>
<div class="line">  uint8_t *sendbuf;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (wait_ack == <span class="keyword">true</span>) {</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">if</span> (bindex &lt; 128) {</div>
<div class="line">    sendbuf = <a class="code" href="group__udp__routines.html#ga836d0644c9cbe14abee14a1127e112f0">udp_get_buf</a> (512);</div>
<div class="line">    <span class="keywordflow">for</span> (i = 0; i &lt; 512; i += 2) {</div>
<div class="line">      sendbuf[i]   = bcount &gt;&gt; 8;</div>
<div class="line">      sendbuf[i+1] = bcount &amp; 0xFF;</div>
<div class="line">    }</div>
<div class="line">    <a class="code" href="group__udp__routines.html#ga9acc06602434d00a35d2e64a0549f137">udp_send</a> (udp_soc, rem_IP, 1000, sendbuf, 512);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>When the packet is sent, wait for the <b>remote acknowledge</b> before proceeding with the next data packet. Use the callback <a class="el" href="group__udp__routines.html#ga614107cc1ce34562e8b0a525917eb5ec">listener</a> function to wait for the remote acknowledge. <div class="fragment"><div class="line">uint16_t  udp_callback (uint8_t socket, uint8_t *remip, uint16_t  port, uint8_t *buf, uint16_t len)  {</div>
<div class="line">  <span class="comment">// This function is called when UDP data has been received.</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> ((len == 2) &amp;&amp; (bindex == (buf[0]&lt;&lt;8 | buf[1]))) {</div>
<div class="line">    wait_ack == <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ol>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The example assumes that the Network Interface Adapter is selected, enabled, and properly configured.</li>
<li>If the system runs out of UDP sockets, the application hangs in an endless loop. The system error function with respond with the error code <b>ERR_UDP_ALLOC</b>.</li>
</ul>
</dd></dl>
<h1><a class="anchor" id="udp_multicasting"></a>
IP Multicasting</h1>
<p>IP Multicasting is the transmission of a datagram to a "host group", a set of zero or more hosts identified by a single IP destination address. A multicast datagram is delivered to all the members of its destination host group in the same way as regular unicast datagrams.</p>
<p>To enable reception of multicast packets a host must first <a class="el" href="group__igmp__routines.html#ga6232a52200292e1fe004b4691d2fa024">join</a> a host group. A membership in a host group is dynamic. Hosts may <a class="el" href="group__igmp__routines.html#ga6232a52200292e1fe004b4691d2fa024">join</a> and <a class="el" href="group__igmp__routines.html#ga84a84f50b58da0e22bcdb2975b51526c">leave</a> groups at any time.</p>
<p>Host groups are identified by <b>Class D</b> IP addresses, those with "1110" as their high-order four bits. Host group addresses range from <b>224.0.0.0</b> to <b>239.255.255.255</b>. The address 224.0.0.0 is reserved and shall not be assigned to any group and 224.0.0.1 is assigned to the permanent group of all IP hosts, including gateways. This group shall also not be used for a dynamic host group.</p>
<h2>UDP Multicasting </h2>
<p>Incoming multicast UDP datagrams are received by UDP sockets in the same way as normal, unicast datagrams. The only difference is that the host must first <a class="el" href="group__igmp__routines.html#ga6232a52200292e1fe004b4691d2fa024">join</a> a host group, before the multicast packets for the selected group can be received.</p>
<p>Outgoing multicast UDP datagrams are <a class="el" href="group__udp__routines.html#ga9acc06602434d00a35d2e64a0549f137">sent</a> in the same way as unicast datagrams, only that the destination IP address is a group address instead of a host address.</p>
<h1><a class="anchor" id="multiple_udp_connections"></a>
Multiple UDP Connections</h1>
<p>Server applications often require to be able to accept several UDP connections from clients on the <b>same port</b>. One example for such an application is a <a class="el" href="using_tftp_server.html">TFTP Server</a>. The multiplex handling must be implemented in the user application.</p>
<p>Because UDP socket is a connection-less service, several concurrent connections from different remote hosts are accepted. The packet multiplexing must be also done in user application.</p>
<p>The framework of the user application shall contain the following basic functions:</p>
<ol type="1">
<li>The <b>user_init()</b> function to initialize all user application sessions at startup. <div class="fragment"><div class="line"><span class="keywordtype">void</span> user_init () {</div>
<div class="line">  USER_INFO *user_s;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; user_num_sess; i++) {</div>
<div class="line">    user_s = &amp;user_session[i];</div>
<div class="line">    memset (user_s-&gt;RemIp, 0, IP_ADRLEN);</div>
<div class="line">    user_s-&gt;RemPort = 0;</div>
<div class="line">    user_s-&gt;Flags   = 0;</div>
<div class="line">    user_s-&gt;Retries = 0;</div>
<div class="line">    user_s-&gt;Tout    = 0;</div>
<div class="line">    user_s-&gt;File    = NULL;</div>
<div class="line">    user_s-&gt;State   = USER_STATE_IDLE;</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Allocate one UDP socket for all sessions.</span></div>
<div class="line">  user_Socket = <a class="code" href="group__udp__routines.html#ga614107cc1ce34562e8b0a525917eb5ec">udp_get_socket</a> (0, <a class="code" href="rl__net_8h.html#a74810213cb986d3bd3558f5b99514155">UDP_OPT_SEND_CHECKSUM</a> | <a class="code" href="rl__net_8h.html#ab968ec8b0c4c6b8ef0d892351d7edcc2">UDP_OPT_VERIFY_CHECKSUM</a>, user_listener);</div>
<div class="line">  <span class="keywordflow">if</span> (user_Socket != 0) {</div>
<div class="line">    <a class="code" href="group__udp__routines.html#gaaa448546b5d13fcd58aad9d488d72f1f">udp_open</a> (user_Socket, USER_SERVER_PORT);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> All user sessions are now initialized. A common UDP socket is opened for communication on selected <b>USER_SERVER_PORT</b> port.</li>
<li>The <b>user_listener()</b> callback function for UDP socket. <div class="fragment"><div class="line">uint32_t user_listener (int32_t socket, <span class="keyword">const</span> uint8_t *ip_addr, uint16_t port, <span class="keyword">const</span> uint8_t *buf, uint32_t len)  {</div>
<div class="line">  USER_INFO *user_s;</div>
<div class="line">  uint8_t session;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">if</span> (socket != user_Socket)) {</div>
<div class="line">    <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  session = user_map_session (remip, port);</div>
<div class="line">  <span class="keywordflow">if</span> (session == 0) {</div>
<div class="line">    <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">  }</div>
<div class="line">  user_s = &amp;user_session[session-1];</div>
<div class="line">  <span class="keywordflow">switch</span> (user_s-&gt;State) {</div>
<div class="line">    <span class="keywordflow">case</span> USER_STATE_IDLE:</div>
<div class="line">      <span class="comment">// A new connection established.</span></div>
<div class="line">       ..</div>
<div class="line">      user_s-&gt;State = USER_STATE_ACTIVE;</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> USER_STATE_ACTIVE:</div>
<div class="line">      <span class="comment">// Process UDP data.</span></div>
<div class="line">       ..</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>The <b>user_map_session()</b> function to map the UDP packet, which has generated a callback event, to it's owner session. <div class="fragment"><div class="line"><span class="keyword">static</span> uint8_t user_map_session (uint8_t *remip, uint16_t port) {</div>
<div class="line">  USER_INFO *user_s;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Check if this is an existing connection.</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 1; i &lt;= user_num_sess; i++) {</div>
<div class="line">    user_s = &amp;user_session[i-1];</div>
<div class="line">    <span class="keywordflow">if</span> ((user_s-&gt;State &gt; USER_STATE_IDLE) &amp;&amp;</div>
<div class="line">        (memcmp (remip, user_s-&gt;RemIp, IP_ADRLEN) == <span class="keyword">true</span>) &amp;&amp;</div>
<div class="line">        (port == user_s-&gt;RemPort)) {</div>
<div class="line">      <span class="keywordflow">return</span> (i);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Check if this is a new connection.</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 1; i &lt;= user_num_sess; i++) {</div>
<div class="line">    user_s = &amp;user_session[i-1];</div>
<div class="line">    <span class="keywordflow">if</span> (user_s-&gt;State == USER_STATE_IDLE) {</div>
<div class="line">      memcpy (user_s-&gt;RemIp, remip, IP_ADRLEN);</div>
<div class="line">      user_s-&gt;RemPort = port;</div>
<div class="line">      <span class="keywordflow">return</span> (i);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>The <b>user_kill_session()</b> function to initialize the session to a default state, close any eventually opened files and release any eventually allocated buffers. <div class="fragment"><div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> user_kill_session (USER_INFO *user_s) {</div>
<div class="line"></div>
<div class="line">  user_s-&gt;State = USER_STATE_IDLE;</div>
<div class="line">  <span class="keywordflow">if</span> (user_s-&gt;File != NULL) {</div>
<div class="line">    user_fclose (user_s-&gt;File);</div>
<div class="line">    user_s-&gt;File = NULL;</div>
<div class="line">  }</div>
<div class="line">  memset (user_s-&gt;RemIp, 0, IP_ADRLEN);</div>
<div class="line">  user_s-&gt;RemPort = 0;</div>
<div class="line">  user_s-&gt;Flags   = 0;</div>
<div class="line">  user_s-&gt;Retries = 0;</div>
<div class="line">  user_s-&gt;Tout    = 0;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>The <b>user_run_server()</b> function to maintain the application jobs, timeouts, etc. This function shall be frequently called from the main loop. <div class="fragment"><div class="line"><span class="keywordtype">void</span> user_run_server () {</div>
<div class="line">  USER_INFO *user_s;</div>
<div class="line">  <span class="keywordtype">int</span> i;</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; user_num_sess; i++) {</div>
<div class="line">    user_s = &amp;user_session[i];</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">switch</span> (user_s-&gt;State) {</div>
<div class="line">      <span class="keywordflow">case</span> USER_STATE_ACTIVE:</div>
<div class="line">        <span class="keywordflow">if</span> (sec_tick == <span class="keyword">true</span>) {</div>
<div class="line">          <span class="keywordflow">if</span> (--user_s-&gt;Tout == 0) {</div>
<div class="line">            <span class="comment">// A timeout expired.</span></div>
<div class="line">            user_kill_session (user_s);</div>
<div class="line">          }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ol>
<dl class="section note"><dt>Note</dt><dd>One UDP socket will be used for every user session. You need to reserve enough UDP sockets in the <b>Net_Config_UDP.h</b> configuration file for all user sessions.</dd></dl>
<h1><a class="anchor" id="using_network_sockets_udp_conf"></a>
UDP Socket Configuration</h1>
<p>The UDP sockets configuration file <b>Net_Config_UDP.h</b> contains only the setting for the <b>Number of UDP Sockets</b>. This number specifies the maximum number of simultaneously opened UDP connections. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="using_network_components.html">Using Network Components</a></li><li class="navelem"><a class="el" href="using_network_sockets.html">Sockets</a></li>
    <li class="footer">Generated on Tue May 25 2021 13:57:56 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
