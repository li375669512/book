<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>FTP Server Routines</title>
<title>Network Component: FTP Server Routines</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 6.7.7</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for IP Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__net__ftps_func.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">FTP Server Routines<div class="ingroups"><a class="el" href="group__service__ftp__server.html">FTP Client &amp; Server</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>FTP Server Routines enable the transfer of files to a FTP Client.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3398437ea5c344a4d22a1db2288c99e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#ga3398437ea5c344a4d22a1db2288c99e5">ftp_server_fclose</a> (void *file)</td></tr>
<tr class="memdesc:ga3398437ea5c344a4d22a1db2288c99e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close a file previously open in FTP server.  <a href="#ga3398437ea5c344a4d22a1db2288c99e5">More...</a><br/></td></tr>
<tr class="separator:ga3398437ea5c344a4d22a1db2288c99e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7d02e3648205e7949f0d6479e8e9f2d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#ga7d02e3648205e7949f0d6479e8e9f2d6">ftp_server_fdelete</a> (const char *fname)</td></tr>
<tr class="memdesc:ga7d02e3648205e7949f0d6479e8e9f2d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a file in FTP server.  <a href="#ga7d02e3648205e7949f0d6479e8e9f2d6">More...</a><br/></td></tr>
<tr class="separator:ga7d02e3648205e7949f0d6479e8e9f2d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb80984d244bae74204e7b236c2a2337"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gaeb80984d244bae74204e7b236c2a2337">ftp_server_ffind</a> (uint8_t code, char *buf, uint32_t buflen, const char *mask)</td></tr>
<tr class="memdesc:gaeb80984d244bae74204e7b236c2a2337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search the file system directory for matching files.  <a href="#gaeb80984d244bae74204e7b236c2a2337">More...</a><br/></td></tr>
<tr class="separator:gaeb80984d244bae74204e7b236c2a2337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3db0e43ba013cc0d8e5cd8aab9e1ff4b"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#ga3db0e43ba013cc0d8e5cd8aab9e1ff4b">ftp_server_fopen</a> (const char *fname, const char *mode)</td></tr>
<tr class="memdesc:ga3db0e43ba013cc0d8e5cd8aab9e1ff4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a file for reading or writing in FTP server.  <a href="#ga3db0e43ba013cc0d8e5cd8aab9e1ff4b">More...</a><br/></td></tr>
<tr class="separator:ga3db0e43ba013cc0d8e5cd8aab9e1ff4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa789cecec612de5a3e935ece21c77eeb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gaa789cecec612de5a3e935ece21c77eeb">ftp_server_fread</a> (void *file, uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:gaa789cecec612de5a3e935ece21c77eeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read block of data from a file in FTP server.  <a href="#gaa789cecec612de5a3e935ece21c77eeb">More...</a><br/></td></tr>
<tr class="separator:gaa789cecec612de5a3e935ece21c77eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaef8549b63b384fdf7363f22de7377c3c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gaef8549b63b384fdf7363f22de7377c3c">ftp_server_frename</a> (const char *fname, const char *newname)</td></tr>
<tr class="memdesc:gaef8549b63b384fdf7363f22de7377c3c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Rename a file or directory in FTP server.  <a href="#gaef8549b63b384fdf7363f22de7377c3c">More...</a><br/></td></tr>
<tr class="separator:gaef8549b63b384fdf7363f22de7377c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacb4c3796fefb67d24087360da6bd853b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gacb4c3796fefb67d24087360da6bd853b">ftp_server_notify</a> (<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103">ftpServerEvent</a> event)</td></tr>
<tr class="memdesc:gacb4c3796fefb67d24087360da6bd853b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the user application about events in FTP server service.  <a href="#gacb4c3796fefb67d24087360da6bd853b">More...</a><br/></td></tr>
<tr class="separator:gacb4c3796fefb67d24087360da6bd853b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae90aafd8c95945b2bd942d231eabae5c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gae90aafd8c95945b2bd942d231eabae5c">ftp_server_fwrite</a> (void *file, const uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:gae90aafd8c95945b2bd942d231eabae5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write block of data to a file in FTP server.  <a href="#gae90aafd8c95945b2bd942d231eabae5c">More...</a><br/></td></tr>
<tr class="separator:gae90aafd8c95945b2bd942d231eabae5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6446d412f03ba3f2f0255ec93fb906fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#ga6446d412f03ba3f2f0255ec93fb906fd">ftp_accept_client</a> (const uint8_t *ip_addr, uint16_t port)</td></tr>
<tr class="memdesc:ga6446d412f03ba3f2f0255ec93fb906fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept or deny connection from remote FTP client.  <a href="#ga6446d412f03ba3f2f0255ec93fb906fd">More...</a><br/></td></tr>
<tr class="separator:ga6446d412f03ba3f2f0255ec93fb906fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga22ac5f27f1998726a4d7b9930f6365e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#ga22ac5f27f1998726a4d7b9930f6365e7">ftp_check_password</a> (uint8_t user_id, const char *password)</td></tr>
<tr class="memdesc:ga22ac5f27f1998726a4d7b9930f6365e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check user account password in the user database.  <a href="#ga22ac5f27f1998726a4d7b9930f6365e7">More...</a><br/></td></tr>
<tr class="separator:ga22ac5f27f1998726a4d7b9930f6365e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec98669546e0d94ae86919f81c364a8d"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gaec98669546e0d94ae86919f81c364a8d">ftp_check_username</a> (const char *username)</td></tr>
<tr class="memdesc:gaec98669546e0d94ae86919f81c364a8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if an user account exist in the user database.  <a href="#gaec98669546e0d94ae86919f81c364a8d">More...</a><br/></td></tr>
<tr class="separator:gaec98669546e0d94ae86919f81c364a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae755a78e225ccc47b5a81f48184fc9be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gae755a78e225ccc47b5a81f48184fc9be">ftp_file_access</a> (uint8_t user_id, const char *fname, uint8_t mode)</td></tr>
<tr class="memdesc:gae755a78e225ccc47b5a81f48184fc9be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if remote user is allowed to access a file on FTP server.  <a href="#gae755a78e225ccc47b5a81f48184fc9be">More...</a><br/></td></tr>
<tr class="separator:gae755a78e225ccc47b5a81f48184fc9be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab8021fe3ee06ac4012e62a8c3b998622"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gab8021fe3ee06ac4012e62a8c3b998622">ftp_get_user_id</a> (void)</td></tr>
<tr class="memdesc:gab8021fe3ee06ac4012e62a8c3b998622"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the user identification.  <a href="#gab8021fe3ee06ac4012e62a8c3b998622">More...</a><br/></td></tr>
<tr class="separator:gab8021fe3ee06ac4012e62a8c3b998622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddd1df6648031d949d9b14e64e099282"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282">ftpCommand</a> { <br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a4d50f95f29b4d75c0a5879a382c2267a">ftpPUT</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a1827c19484c909cea4799278a9fa62c2">ftpGET</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a16061bc46d8befe1dfa362b8ce87688b">ftpAPPEND</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a0d090f60fe030e8e6884f16345766527">ftpDELETE</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a452c42497aa5c8f92eda641f74132555">ftpLIST</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a602799610fb182d65bad4c4b2981ed4a">ftpRENAME</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282ad05bb975b84550dae58f6d5460ca8fbf">ftpMKDIR</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a1274900cbcc2a689ec8bd8bc562bfa7a">ftpRMDIR</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282a48cb3d67ce3aa79d05f82fcaf1900efa">ftpNLIST</a>
<br/>
 }</td></tr>
<tr class="memdesc:gaddd1df6648031d949d9b14e64e099282"><td class="mdescLeft">&#160;</td><td class="mdescRight">FTP Commands.  <a href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282">More...</a><br/></td></tr>
<tr class="separator:gaddd1df6648031d949d9b14e64e099282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3390e9253f6a7af5f17788687d527103"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103">ftpServerEvent</a> { <br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103aaa02554191aebc21a4e40560b354465c">ftpServerLogin</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a81788932c5f8dbd6ecbdeb217f8907c2">ftpServerLogout</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a27aeafcfffac7558bcbecccf94d0feeb">ftpServerLoginFailed</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a0b196ffdd24a65ee5826f60c17d55142">ftpServerDownload</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a24ef24f0fd64bf2105523d2eb7556973">ftpServerUpload</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a88212f0dae81442a39a26dd7f4fc08ff">ftpServerDelete</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103aac764612c835e623d93f6eefe2d828ef">ftpServerRename</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a597ad285f9add9d2669d94cf5ff8fa90">ftpServerMakeDirectory</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103aa044ecf9faabf44decf0ce403470832a">ftpServerRemoveDirectory</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103ab24fdff925779b4745ed05955db88635">ftpServerOperationDenied</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a1280abdc6aa4c0e3289f191440e92618">ftpServerLocalFileError</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a6d9a2e7cb7935a18f409fa342d31bee0">ftpServerFileError</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103a1cbc731363c266bdbf0e8f45fc43d1ac">ftpServerError</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga3390e9253f6a7af5f17788687d527103"><td class="mdescLeft">&#160;</td><td class="mdescRight">FTP Server Events.  <a href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103">More...</a><br/></td></tr>
<tr class="separator:ga3390e9253f6a7af5f17788687d527103"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>FTP Server Routines enable the transfer of files to a FTP Client. </p>
<p>FTP routines are not reentrant. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gaddd1df6648031d949d9b14e64e099282"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net__ftps_func.html#gaddd1df6648031d949d9b14e64e099282">ftpCommand</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FTP Commands. </p>
<p><b>Parameter for:</b></p>
<ul>
<li><a class="el" href="group__net__ftpc_func.html#gaa834ed8ba4c4f8eb18a646b3b81f68b5">ftp_client_connect</a> </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a4d50f95f29b4d75c0a5879a382c2267a"></a>ftpPUT</em>&#160;</td><td class="fielddoc">
<p>Puts a file on FTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a1827c19484c909cea4799278a9fa62c2"></a>ftpGET</em>&#160;</td><td class="fielddoc">
<p>Retrieves a file from FTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a16061bc46d8befe1dfa362b8ce87688b"></a>ftpAPPEND</em>&#160;</td><td class="fielddoc">
<p>Append file on FTP server (with create) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a0d090f60fe030e8e6884f16345766527"></a>ftpDELETE</em>&#160;</td><td class="fielddoc">
<p>Deletes a file on FTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a452c42497aa5c8f92eda641f74132555"></a>ftpLIST</em>&#160;</td><td class="fielddoc">
<p>Lists files stored on FTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a602799610fb182d65bad4c4b2981ed4a"></a>ftpRENAME</em>&#160;</td><td class="fielddoc">
<p>Renames a file on FTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282ad05bb975b84550dae58f6d5460ca8fbf"></a>ftpMKDIR</em>&#160;</td><td class="fielddoc">
<p>Makes a directory on FTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a1274900cbcc2a689ec8bd8bc562bfa7a"></a>ftpRMDIR</em>&#160;</td><td class="fielddoc">
<p>Removes an empty directory on FTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gaddd1df6648031d949d9b14e64e099282a48cb3d67ce3aa79d05f82fcaf1900efa"></a>ftpNLIST</em>&#160;</td><td class="fielddoc">
<p>Lists file names only (short format) </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga3390e9253f6a7af5f17788687d527103"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103">ftpServerEvent</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>FTP Server Events. </p>
<p><b>Parameter for:</b></p>
<ul>
<li><a class="el" href="group__net__ftps_func.html#gacb4c3796fefb67d24087360da6bd853b">ftp_server_notify</a> </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103aaa02554191aebc21a4e40560b354465c"></a>ftpServerLogin</em>&#160;</td><td class="fielddoc">
<p>User logged in, session is busy. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a81788932c5f8dbd6ecbdeb217f8907c2"></a>ftpServerLogout</em>&#160;</td><td class="fielddoc">
<p>User logged out, session is idle. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a27aeafcfffac7558bcbecccf94d0feeb"></a>ftpServerLoginFailed</em>&#160;</td><td class="fielddoc">
<p>User login failed (invalid credentials) </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a0b196ffdd24a65ee5826f60c17d55142"></a>ftpServerDownload</em>&#160;</td><td class="fielddoc">
<p>File download ended. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a24ef24f0fd64bf2105523d2eb7556973"></a>ftpServerUpload</em>&#160;</td><td class="fielddoc">
<p>File upload ended. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a88212f0dae81442a39a26dd7f4fc08ff"></a>ftpServerDelete</em>&#160;</td><td class="fielddoc">
<p>File deleted. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103aac764612c835e623d93f6eefe2d828ef"></a>ftpServerRename</em>&#160;</td><td class="fielddoc">
<p>File or directory renamed. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a597ad285f9add9d2669d94cf5ff8fa90"></a>ftpServerMakeDirectory</em>&#160;</td><td class="fielddoc">
<p>Directory created. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103aa044ecf9faabf44decf0ce403470832a"></a>ftpServerRemoveDirectory</em>&#160;</td><td class="fielddoc">
<p>Directory removed. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103ab24fdff925779b4745ed05955db88635"></a>ftpServerOperationDenied</em>&#160;</td><td class="fielddoc">
<p>Requested file operation denied. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a1280abdc6aa4c0e3289f191440e92618"></a>ftpServerLocalFileError</em>&#160;</td><td class="fielddoc">
<p>Local file operation error. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a6d9a2e7cb7935a18f409fa342d31bee0"></a>ftpServerFileError</em>&#160;</td><td class="fielddoc">
<p>Generic file operation error. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga3390e9253f6a7af5f17788687d527103a1cbc731363c266bdbf0e8f45fc43d1ac"></a>ftpServerError</em>&#160;</td><td class="fielddoc">
<p>Generic FTP server error. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga6446d412f03ba3f2f0255ec93fb906fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ftp_accept_client </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept or deny connection from remote FTP client. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip_addr</td><td>IP address of the remote FTP client. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>port number of the remote FTP client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = Connection from the remote client is allowed.</li>
<li>false = Connection is denied.</li>
</ul>
</dd></dl>
<p>The function <b>ftp_accept_client</b> checks if a connection from the remote client is allowed or not. This enables remote client filtering. You can selectively decide which clients are allowed to connect to the FTP server and which are not.</p>
<p>The argument <em>ip_addr</em> points to a buffer containing the four octets that make up the IP address of the remote machine.</p>
<p>The argument <em>port</em> specifies the port on the remote machine.</p>
<p>The function is in the <b>FTP_Server_Access.c</b> module.</p>
<dl class="section note"><dt>Note</dt><dd>This function is optional. If it does not exist in the project, then the library default function is used. The library default function accepts all remote clients.</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Accept or deny connection from remote FTP client.</span></div>
<div class="line"><span class="comment">// If this function is missing, all remote clients are accepted.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__ftps_func.html#ga6446d412f03ba3f2f0255ec93fb906fd">ftp_accept_client</a> (<span class="keyword">const</span> uint8_t *ip_addr, uint16_t port) {</div>
<div class="line">  <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">  if (ip_addr[0] == 192  &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[1] == 168  &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[2] == 0    &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[3] == 1) {</span></div>
<div class="line"><span class="comment">    // Accept connection.</span></div>
<div class="line"><span class="comment">    return (true);</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">  // Deny connection.</span></div>
<div class="line"><span class="comment">  return (false);</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><p> Accept or deny connection from remote FTP client. </p>

</div>
</div>
<a class="anchor" id="ga22ac5f27f1998726a4d7b9930f6365e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ftp_check_password </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>user_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>password</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check user account password in the user database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">user_id</td><td>user identification number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">password</td><td>pointer to password. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = password accepted.</li>
<li>false = invalid password.</li>
</ul>
</dd></dl>
<p>The function <b>ftp_check_password</b> authenticates the password for a specified user ID.</p>
<p>The argument <em>user_id</em> is the identification number of a user.</p>
<p>The argument <em>password</em> points to the password that gets checked.</p>
<dl class="section note"><dt>Note</dt><dd>The function can be adapted to the application's needs by adding the <b>FTP_Server_Multiuser.c</b> file to the project.</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line">  </div>
<div class="line"><span class="comment">// Check user account password in the user database.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__ftps_func.html#ga22ac5f27f1998726a4d7b9930f6365e7">ftp_check_password</a> (uint8_t user_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *password) {</div>
<div class="line">  <span class="keywordflow">if</span> (user_id == 1) {</div>
<div class="line">    <span class="keywordflow">if</span> (strcmp (password, <span class="stringliteral">&quot;guest&quot;</span>) == 0) {</div>
<div class="line">      <span class="comment">// Password is correct</span></div>
<div class="line">      <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gaec98669546e0d94ae86919f81c364a8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ftp_check_username </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>username</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if an user account exist in the user database. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">username</td><td>pointer to username. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status information:<ul>
<li>User identification number or</li>
<li>0 if the user is not existing.</li>
</ul>
</dd></dl>
<p>The function <b>ftp_check_username</b> authenticates the username and returns the corresponding identification number.</p>
<p>The argument <em>username</em> points to the user name. A value of <span class="XML-Token">0</span> is returned if the user does not exist.</p>
<dl class="section note"><dt>Note</dt><dd>The function can be adapted to the application's needs by adding the <b>FTP_Server_Multiuser.c</b> file to the project.</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if an user account exist in the user database.</span></div>
<div class="line">uint8_t <a class="code" href="group__net__ftps_func.html#gaec98669546e0d94ae86919f81c364a8d">ftp_check_username</a> (<span class="keyword">const</span> <span class="keywordtype">char</span> *username) {</div>
<div class="line">  <span class="keywordflow">if</span> (strcmp (username, <span class="stringliteral">&quot;guest&quot;</span>) == 0) {</div>
<div class="line">    <span class="comment">// Username is correct</span></div>
<div class="line">    <span class="keywordflow">return</span> (1);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (0);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Check if an user account exist in the user database. </p>

</div>
</div>
<a class="anchor" id="gae755a78e225ccc47b5a81f48184fc9be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ftp_file_access </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>user_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check if remote user is allowed to access a file on FTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">user_id</td><td>user identification number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fname</td><td>name of a file to access. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>access mode:<ul>
<li>0 = Read a file.</li>
<li>1 = Write a file.</li>
<li>2 = Create or remove a directory.</li>
<li>3 = List file directory. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = File access is allowed.</li>
<li>false = File access is denied.</li>
</ul>
</dd></dl>
<p>The function <b>ftp_file_access</b> checks if file access is allowed for a specific user. This allows access protection of sensitive files. The access to protected files will be blocked for unprivileged users. The error code "550 Access is denied" will be returned to the client if access is not allowed.</p>
<p>The argument <em>user_id</em> is the user identification number as returned by <a class="el" href="group__net__ftps_func.html#gaec98669546e0d94ae86919f81c364a8d">ftp_check_username</a>. <em>user_id</em> identifies the user who is trying to access the specified file.</p>
<p>The argument <em>fname</em> points to a buffer containing the file name which should be accessed. The file name is a 0-terminated string.</p>
<p>The argument <em>mode</em> specifies the requested type of file access.</p>
<p>The function is in the <b>FTP_Server_Multiuser.c</b> module.</p>
<dl class="section note"><dt>Note</dt><dd>This function is optional. If the FTP file access restriction is not used, this function is not required.</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check if remote user is allowed to access a file on FTP server.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__ftps_func.html#gae755a78e225ccc47b5a81f48184fc9be">ftp_file_access</a> (uint8_t user_id, <span class="keyword">const</span> <span class="keywordtype">char</span> *fname, uint8_t mode) {</div>
<div class="line">  <span class="keywordflow">if</span> (user_id == 1) {</div>
<div class="line">    <span class="keywordflow">if</span> ((strcmp (fname, <span class="stringliteral">&quot;/log/test.txt&quot;</span>) == 0) &amp;&amp; (mode == 1)) {</div>
<div class="line">      <span class="comment">// User &quot;guest&quot; is not allowed to modify or delete &quot;test.txt&quot; in &quot;log&quot; folder</span></div>
<div class="line">      <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gab8021fe3ee06ac4012e62a8c3b998622"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t ftp_get_user_id </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the user identification. </p>
<dl class="section return"><dt>Returns</dt><dd>user identification number (0 = system administrator).</dd></dl>
<p>The function <b>ftp_get_user_id</b> retrieves the user identification number.</p>
<dl class="section note"><dt>Note</dt><dd>This function returns a value of 0 for system administrator account.</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="comment">//coming soon</span></div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga3398437ea5c344a4d22a1db2288c99e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ftp_server_fclose </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close a file previously open in FTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>pointer to the file to close. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p>The function <b>ftp_server_fclose</b> closes the file identified by the <em>file</em> stream pointer in the function argument.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>FTP_Server_FS.c</b> module. </p>

</div>
</div>
<a class="anchor" id="ga7d02e3648205e7949f0d6479e8e9f2d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ftp_server_fdelete </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a file in FTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fname</td><td>name of the file to delete. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = File successfully deleted.</li>
<li>false = Failed to delete a file.</li>
</ul>
</dd></dl>
<p>The function <b>ftp_server_fdelete</b> deletes the file specified by <em>fname</em> from the server.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>FTP_Server_FS.c</b> module. </p>

</div>
</div>
<a class="anchor" id="gaeb80984d244bae74204e7b236c2a2337"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ftp_server_ffind </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search the file system directory for matching files. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">code</td><td>request type code:<ul>
<li>0 = Retrieve file size.</li>
<li>1 = Retrieve last-modified time of a file.</li>
<li>2 = List files by name, first call.</li>
<li>3 = List files in extended format, first call.</li>
<li>4 = List files by name, subsequent call.</li>
<li>5 = List files in extended format, subsequent call. </li>
</ul>
</td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>output buffer to write the listing to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buflen</td><td>length of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mask</td><td>file mask filter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to output buffer.</dd></dl>
<p>The function <b>ftp_server_ffind</b> searches the File System directory for files matching the specified mask filter <em>mask</em>. Matching file information is stored to the output buffer <em>buf</em>. The output data must be formatted in the FTP folder listing format.</p>
<p>The argument <em>code</em> specifies the request type: </p>
<table class="doxtable">
<tr>
<th>Code</th><th>Request Type  </th></tr>
<tr>
<td>0 </td><td>Read file size. </td></tr>
<tr>
<td>1 </td><td>Read last-modified time of a file. </td></tr>
<tr>
<td>2 </td><td>List file names only (first call). </td></tr>
<tr>
<td>3 </td><td>List file directory in extended format (first call). </td></tr>
<tr>
<td>4 </td><td>List file names only (subsequent call). </td></tr>
<tr>
<td>5 </td><td>List file directory in extended format (subsequent call). </td></tr>
</table>
<p>The argument <em>buflen</em> specifies the size of output buffer <em>buf</em>.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>FTP_Server_FS.c</b> module. </p>

</div>
</div>
<a class="anchor" id="ga3db0e43ba013cc0d8e5cd8aab9e1ff4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * ftp_server_fopen </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Open a file for reading or writing in FTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fname</td><td>name of the file to open. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mode</td><td>type of access:<ul>
<li>"rb" = opens a file for reading.</li>
<li>"wb" = opens a file for writing. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status information:<ul>
<li>Pointer to an open file or</li>
<li>NULL in case of an error.</li>
</ul>
</dd></dl>
<p>The function <b>ftp_server_fopen</b> opens a file for reading or writing.</p>
<p>The argument <em>fname</em> specifies the name of the file to open.</p>
<p>The argument <em>mode</em> defines the type of access permitted for the file. The argument can have one of the following values: </p>
<table class="doxtable">
<tr>
<th>Mode</th><th>Description  </th></tr>
<tr>
<td>"rb"</td><td>Opens the file for reading. If the file does not exist, fopen fails. </td></tr>
<tr>
<td>"wb"</td><td>Opens an empty file for writing if the file does not exist. If the file already exists, its contents are cleared. </td></tr>
</table>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>FTP_Server_FS.c</b> module. </p>

</div>
</div>
<a class="anchor" id="gaa789cecec612de5a3e935ece21c77eeb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ftp_server_fread </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read block of data from a file in FTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>pointer to the file to read from. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>block of memory to write data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of data to read in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes successfully read.</dd></dl>
<p>The function <b>ftp_server_fread</b> reads <em>len</em> bytes from the file <em>file</em> stream pointer specified in the function argument.</p>
<p>The argument <em>buf</em> is a pointer to the buffer where the function stores the read data.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>FTP_Server_FS.c</b> module.</p>
<dl class="section note"><dt>Note</dt><dd>The function must read <em>len</em> bytes. The FTP Server stops reading and closes the file if the return value is less than <em>len</em> bytes. </dd></dl>

</div>
</div>
<a class="anchor" id="gaef8549b63b384fdf7363f22de7377c3c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ftp_server_frename </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>newname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Rename a file or directory in FTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fname</td><td>old name to rename from. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">newname</td><td>new name to rename to. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = File or directory successfully renamed.</li>
<li>false = Failed to rename a file or directory.</li>
</ul>
</dd></dl>
<p>The function <b>ftp_server_frename</b> renames the file name <em>fname</em> to <em>newname</em> on the server.</p>
<p>The argument <em>fname</em> must be the name of an existing file.</p>
<p>The argument <em>newname</em> must be a valid file name that does not exist in the scope.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>FTP_Server_FS.c</b> module.</p>
<dl class="section note"><dt>Note</dt><dd>A name with a trailing '\' character denotes a directory. </dd></dl>

</div>
</div>
<a class="anchor" id="gae90aafd8c95945b2bd942d231eabae5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ftp_server_fwrite </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write block of data to a file in FTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>pointer to the file to write to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>block of memory to be written. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of data to write in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes successfully written.</dd></dl>
<p>The function <b>ftp_server_fwrite</b> writes a block of data to the file identified by the <em>file</em> stream pointer.</p>
<p>The argument <em>buf</em> points to the buffer containing the data that is to be written to the file.</p>
<p>The argument <em>len</em> specifies the number of bytes to write to the file.</p>
<p>The function interfaces to the File System Component and will be called by the Network Component automatically. If another file system will be used, refer to the reference implementation in the <b>FTP_Server_FS.c</b> module. </p>

</div>
</div>
<a class="anchor" id="gacb4c3796fefb67d24087360da6bd853b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ftp_server_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103">ftpServerEvent</a>&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the user application about events in FTP server service. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>FTP Server notification event </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is called by the system to inform about events.</dd></dl>
<p>The function <b>ftp_server_notify</b> notifies the user application about events in FTP server. This function is useful to synchronize various actions, such as firmware upgrade, to FTP server events. The firmware upgrade might start after the <span class="XML-Token">ftpServerLogout</span> event is signalled and a new firmware image file has been uploaded to the server.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group__net__ftps_func.html#gacb4c3796fefb67d24087360da6bd853b">ftp_server_notify</a> (<a class="code" href="group__net__ftps_func.html#ga3390e9253f6a7af5f17788687d527103">ftpServerEvent</a> event) {</div>
<div class="line">  <span class="comment">// Notify the user application about events in FTP server.</span></div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103aaa02554191aebc21a4e40560b354465c">ftpServerLogin</a>:</div>
<div class="line">      <span class="comment">// User logged in, FTP session is busy. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a81788932c5f8dbd6ecbdeb217f8907c2">ftpServerLogout</a>;</div>
<div class="line">      <span class="comment">// User logged out, session is idle. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a27aeafcfffac7558bcbecccf94d0feeb">ftpServerLoginFailed</a>:</div>
<div class="line">      <span class="comment">// User login failed (invalid credentials). </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a0b196ffdd24a65ee5826f60c17d55142">ftpServerDownload</a>:</div>
<div class="line">      <span class="comment">// File download ended. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a24ef24f0fd64bf2105523d2eb7556973">ftpServerUpload</a>:</div>
<div class="line">      <span class="comment">// File upload ended. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a88212f0dae81442a39a26dd7f4fc08ff">ftpServerDelete</a>:</div>
<div class="line">      <span class="comment">// File deleted. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103aac764612c835e623d93f6eefe2d828ef">ftpServerRename</a>:</div>
<div class="line">      <span class="comment">// File or directory renamed. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a597ad285f9add9d2669d94cf5ff8fa90">ftpServerMakeDirectory</a>:</div>
<div class="line">      <span class="comment">// Directory created. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103aa044ecf9faabf44decf0ce403470832a">ftpServerRemoveDirectory</a>:</div>
<div class="line">      <span class="comment">// Directory removed. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103ab24fdff925779b4745ed05955db88635">ftpServerOperationDenied</a>:</div>
<div class="line">      <span class="comment">// Requested file operation denied. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a1280abdc6aa4c0e3289f191440e92618">ftpServerLocalFileError</a>:</div>
<div class="line">      <span class="comment">// Local file operation error. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a6d9a2e7cb7935a18f409fa342d31bee0">ftpServerFileError</a>:</div>
<div class="line">      <span class="comment">// Generic file operation error. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga3390e9253f6a7af5f17788687d527103a1cbc731363c266bdbf0e8f45fc43d1ac">ftpServerError</a>:</div>
<div class="line">      <span class="comment">// Generic FTP server error. </span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p>Notify the user application about events in FTP server service. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 25 2021 13:57:56 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
