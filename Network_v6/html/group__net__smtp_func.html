<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SMTP Client</title>
<title>Network Component: SMTP Client</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 6.7.7</span>
   </div>
   <div id="projectbrief">MDK-Professional Middleware for IP Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__net__smtp_func.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">SMTP Client<div class="ingroups"><a class="el" href="group__net__services.html">Services</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>SMTP Client routines allow sending of e-mail notifications using a SMTP server.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5c8337046d9594d7fbf1df4fb0490779"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__smtp_func.html#ga5c8337046d9594d7fbf1df4fb0490779">smtp_client_accept_authentication</a> (const uint8_t *ip_addr)</td></tr>
<tr class="memdesc:ga5c8337046d9594d7fbf1df4fb0490779"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept or deny authentication requested by SMTP server.  <a href="#ga5c8337046d9594d7fbf1df4fb0490779">More...</a><br/></td></tr>
<tr class="separator:ga5c8337046d9594d7fbf1df4fb0490779"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30df24d105663b32de5e44a089851f44"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__smtp_func.html#ga30df24d105663b32de5e44a089851f44">smtp_client_connect</a> (const uint8_t *ip_addr, uint16_t port)</td></tr>
<tr class="memdesc:ga30df24d105663b32de5e44a089851f44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start SMTP client to send an email.  <a href="#ga30df24d105663b32de5e44a089851f44">More...</a><br/></td></tr>
<tr class="separator:ga30df24d105663b32de5e44a089851f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf0d9b74132f2ae67acba57d6ceffc03d"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__smtp_func.html#gaf0d9b74132f2ae67acba57d6ceffc03d">smtp_client_request</a> (<a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">smtpClientRequest</a> request, char *buf, uint32_t buflen, uint32_t *pvar)</td></tr>
<tr class="memdesc:gaf0d9b74132f2ae67acba57d6ceffc03d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request parameters for SMTP client session.  <a href="#gaf0d9b74132f2ae67acba57d6ceffc03d">More...</a><br/></td></tr>
<tr class="separator:gaf0d9b74132f2ae67acba57d6ceffc03d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad1a88de7806a66596fda083baf21ff38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__smtp_func.html#gad1a88de7806a66596fda083baf21ff38">smtp_client_notify</a> (<a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">smtpClientEvent</a> event)</td></tr>
<tr class="memdesc:gad1a88de7806a66596fda083baf21ff38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the user application when SMTP client operation ends.  <a href="#gad1a88de7806a66596fda083baf21ff38">More...</a><br/></td></tr>
<tr class="separator:gad1a88de7806a66596fda083baf21ff38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga99e89e7724c8c297ff82cc0bdf376edb"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">smtpClientRequest</a> { <br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edba5559abd58aeed4a98951ffb98d127a34">smtpClientUsername</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edba96d5b6a19878c18c0215291617b3ab52">smtpClientPassword</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edbaaa9636becb6f295705e34d907e5e0794">smtpClientSender</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edba765cce6fb742a2ca53ace2891e5329d3">smtpClientRecipient</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edba82e123f72b4432ed90a76253c62527ef">smtpClientSubject</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edba4f89a147b16f947a73baafc2d8aee6ca">smtpClientBody</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga99e89e7724c8c297ff82cc0bdf376edb"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMTP Client Request.  <a href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">More...</a><br/></td></tr>
<tr class="separator:ga99e89e7724c8c297ff82cc0bdf376edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga231d5dcfc22506fd65f3db0c7335f08e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">smtpClientEvent</a> { <br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08ea86ce1bf0bb45568c0e3ffd83e171cac4">smtpClientSuccess</a> = 0, 
<br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08ea6ce56d9ab31bb8a0318dcc3fc21da4d3">smtpClientTimeout</a>, 
<br/>
&#160;&#160;<a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08ea38a5b56b8a6d7bae8903450b793861b9">smtpClientError</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga231d5dcfc22506fd65f3db0c7335f08e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SMTP Client Events.  <a href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">More...</a><br/></td></tr>
<tr class="separator:ga231d5dcfc22506fd65f3db0c7335f08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>SMTP Client routines allow sending of e-mail notifications using a SMTP server. </p>
<p><b>Simple Mail Transfer Protocol (SMTP)</b> is a widely used protocol for the delivery of <b>e-mails</b> between TCP/IP systems and users.</p>
<p>A SMTP Client can send e-mails to various recipients. A typical use is to send <b>automated</b> e-mail notifications to different e-mail addresses.</p>
<dl class="section note"><dt>Note</dt><dd>The page <a class="el" href="using_smtp_client.html">SMTP Client</a> gives you more information on the actual usage of the functions and how to work with them in a project.</dd></dl>
<h2>Code Examples </h2>
<h3>SMTP Client User Interface Template</h3>
<p>The following source code is part of the <b>SMTP_Client_UIF.c</b> template file. This code template enables the developer to create an application specific callback function. Also, user authentication for a specific SMTP server can be enabled or disabled: <a class="anchor" id="anchor_SMTP_Client_UIF"></a></p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Request parameters for SMTP client session.</span></div>
<div class="line">uint32_t <a class="code" href="group__net__smtp_func.html#gaf0d9b74132f2ae67acba57d6ceffc03d">smtp_client_request</a> (<a class="code" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">smtpClientRequest</a> request, <span class="keywordtype">char</span> *buf, uint32_t buflen, uint32_t *pvar) {</div>
<div class="line">  uint32_t len = 0;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">switch</span> (request) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba5559abd58aeed4a98951ffb98d127a34">smtpClientUsername</a>:</div>
<div class="line">      <span class="comment">// Username to login to SMTP server</span></div>
<div class="line">      <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">      len = sprintf (buf, &quot;guest&quot;);</span></div>
<div class="line"><span class="comment">      */</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba96d5b6a19878c18c0215291617b3ab52">smtpClientPassword</a>:</div>
<div class="line">      <span class="comment">// Password to login to SMTP server</span></div>
<div class="line">      <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">      len = sprintf (buf, &quot;guest&quot;);</span></div>
<div class="line"><span class="comment">      */</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edbaaa9636becb6f295705e34d907e5e0794">smtpClientSender</a>:</div>
<div class="line">      <span class="comment">// Email address of the sender</span></div>
<div class="line">      <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">      len = sprintf (buf, &quot;me@domain.com&quot;);</span></div>
<div class="line"><span class="comment">      */</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba765cce6fb742a2ca53ace2891e5329d3">smtpClientRecipient</a>:</div>
<div class="line">      <span class="comment">// Email address of the recipient</span></div>
<div class="line">      <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">      len = sprintf (buf, &quot;you@domain.com&quot;);</span></div>
<div class="line"><span class="comment">      */</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba82e123f72b4432ed90a76253c62527ef">smtpClientSubject</a>:</div>
<div class="line">      <span class="comment">// Subject of email</span></div>
<div class="line">      <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">      len = sprintf (buf, &quot;Hello&quot;);</span></div>
<div class="line"><span class="comment">      */</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba4f89a147b16f947a73baafc2d8aee6ca">smtpClientBody</a>:</div>
<div class="line">      <span class="comment">// Email body in plain ascii format</span></div>
<div class="line">      <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">      len = sprintf (buf, &quot;Hello, how are you?\r\n&quot;);</span></div>
<div class="line"><span class="comment">      */</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (len);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Notify the user application when SMTP client operation ends.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__net__smtp_func.html#gad1a88de7806a66596fda083baf21ff38">smtp_client_notify</a> (<a class="code" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">smtpClientEvent</a> event) {</div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga231d5dcfc22506fd65f3db0c7335f08ea86ce1bf0bb45568c0e3ffd83e171cac4">smtpClientSuccess</a>:</div>
<div class="line">      <span class="comment">// Email successfully sent</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga231d5dcfc22506fd65f3db0c7335f08ea6ce56d9ab31bb8a0318dcc3fc21da4d3">smtpClientTimeout</a>:</div>
<div class="line">      <span class="comment">// Timeout sending email</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga231d5dcfc22506fd65f3db0c7335f08ea38a5b56b8a6d7bae8903450b793861b9">smtpClientError</a>:</div>
<div class="line">      <span class="comment">// Error when sending email</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Accept or deny authentication requested by SMTP server.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__smtp_func.html#ga5c8337046d9594d7fbf1df4fb0490779">smtp_client_accept_authentication</a> (<span class="keyword">const</span> uint8_t *ip_addr) {</div>
<div class="line">  <span class="comment">/* Example</span></div>
<div class="line"><span class="comment">  if (ip_addr[0] == 192  &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[1] == 168  &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[2] == 0    &amp;&amp;</span></div>
<div class="line"><span class="comment">      ip_addr[3] == 1) {</span></div>
<div class="line"><span class="comment">    // Deny authentication from local smtp server</span></div>
<div class="line"><span class="comment">    return (false);</span></div>
<div class="line"><span class="comment">  }</span></div>
<div class="line"><span class="comment">  */</span></div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga231d5dcfc22506fd65f3db0c7335f08e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">smtpClientEvent</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMTP Client Events. </p>
<p><b>Parameter for:</b></p>
<ul>
<li><a class="el" href="group__net__smtp_func.html#gad1a88de7806a66596fda083baf21ff38">smtp_client_notify</a> </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ga231d5dcfc22506fd65f3db0c7335f08ea86ce1bf0bb45568c0e3ffd83e171cac4"></a>smtpClientSuccess</em>&#160;</td><td class="fielddoc">
<p>Email successfully sent. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga231d5dcfc22506fd65f3db0c7335f08ea6ce56d9ab31bb8a0318dcc3fc21da4d3"></a>smtpClientTimeout</em>&#160;</td><td class="fielddoc">
<p>Timeout sending email. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga231d5dcfc22506fd65f3db0c7335f08ea38a5b56b8a6d7bae8903450b793861b9"></a>smtpClientError</em>&#160;</td><td class="fielddoc">
<p>Error when sending email. </p>
</td></tr>
</table>

</div>
</div>
<a class="anchor" id="ga99e89e7724c8c297ff82cc0bdf376edb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">smtpClientRequest</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SMTP Client Request. </p>
<p><b>Parameter for:</b></p>
<ul>
<li><a class="el" href="group__net__smtp_func.html#gaf0d9b74132f2ae67acba57d6ceffc03d">smtp_client_request</a> </li>
</ul>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ga99e89e7724c8c297ff82cc0bdf376edba5559abd58aeed4a98951ffb98d127a34"></a>smtpClientUsername</em>&#160;</td><td class="fielddoc">
<p>Username to login to SMTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga99e89e7724c8c297ff82cc0bdf376edba96d5b6a19878c18c0215291617b3ab52"></a>smtpClientPassword</em>&#160;</td><td class="fielddoc">
<p>Password to login to SMTP server. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga99e89e7724c8c297ff82cc0bdf376edbaaa9636becb6f295705e34d907e5e0794"></a>smtpClientSender</em>&#160;</td><td class="fielddoc">
<p>Email address of the sender. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga99e89e7724c8c297ff82cc0bdf376edba765cce6fb742a2ca53ace2891e5329d3"></a>smtpClientRecipient</em>&#160;</td><td class="fielddoc">
<p>Email address of the recipient. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga99e89e7724c8c297ff82cc0bdf376edba82e123f72b4432ed90a76253c62527ef"></a>smtpClientSubject</em>&#160;</td><td class="fielddoc">
<p>Subject of email. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ga99e89e7724c8c297ff82cc0bdf376edba4f89a147b16f947a73baafc2d8aee6ca"></a>smtpClientBody</em>&#160;</td><td class="fielddoc">
<p>Email body in plain ASCII format. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga5c8337046d9594d7fbf1df4fb0490779"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smtp_client_accept_authentication </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ip_addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept or deny authentication requested by SMTP server. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip_addr</td><td>IP address of the remote SMTP server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = Authentication is accepted.</li>
<li>false = Authentication is denied.</li>
</ul>
</dd></dl>
<p>The function <b>smtp_client_accept_authentication</b> informs the Network Component if the SMTP client should log on to a SMTP Server when sending e-mails. The Network Component library calls this function and asks the user what to do if the SMTP Server has advertised the user authentication. It is now on the user to accept the authentication.</p>
<p>The argument <em>ip_addr</em> points to a buffer containing the four octets that make up the IP address of the remote SMTP server.</p>
<p>You can customize the function in the file <b>SMTP_Client_UIF.c</b>.</p>
<dl class="section note"><dt>Note</dt><dd>This function is called if the SMTP server has advertised user authentication.</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="comment">// Accept or deny authentication requested by SMTP server.</span></div>
<div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__net__smtp_func.html#ga5c8337046d9594d7fbf1df4fb0490779">smtp_client_accept_authentication</a> (<span class="keyword">const</span> uint8_t *ip_addr) {</div>
<div class="line">  <span class="keywordflow">if</span> (ip_addr[0] == 192  &amp;&amp;</div>
<div class="line">      ip_addr[1] == 168  &amp;&amp;</div>
<div class="line">      ip_addr[2] == 0    &amp;&amp;</div>
<div class="line">      ip_addr[3] == 1) {</div>
<div class="line">    <span class="comment">// Deny authentication from local smtp server</span></div>
<div class="line">    <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga30df24d105663b32de5e44a089851f44"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> smtp_client_connect </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>ip_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start SMTP client to send an email. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">ip_addr</td><td>IP address of the SMTP server. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">port</td><td>port number of SMTP server. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function as defined with <a class="el" href="rl__net_8h.html#a5675a3b88ee02986ae15ae3bb8135551">netStatus</a>.</dd></dl>
<p>The function <b>smtp_client_connect</b> starts the SMTP client and tries to connect to an SMTP server specified by <em>ip_addr</em> on the TCP port <em>port</em>.</p>
<p>The argument <em>ip_addr</em> points to the IP address of the SMTP server.</p>
<p>The argument <em>port</em> points to TCP port of the SMTP server.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The standard SMTP port is TCP port 25.</li>
<li>An application can call the <b>smtp_client_connect</b> function to connect to an SMTP server to send emails.</li>
</ul>
</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line">...</div>
<div class="line">  <span class="comment">// Start SMTP client, use default SMTP port</span></div>
<div class="line">  retv = <a class="code" href="group__net__smtp_func.html#ga30df24d105663b32de5e44a089851f44">smtp_client_connect</a> (srv_ip, 0);</div>
<div class="line">  <span class="keywordflow">if</span> (retv != <a class="code" href="group__status__error__codes__net.html#ga5675a3b88ee02986ae15ae3bb8135551a138e73e2c0ad9ef9426ac81ef809953b">netOK</a>) {</div>
<div class="line">    <span class="comment">// Failed to start SMTP process</span></div>
<div class="line">  }</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gad1a88de7806a66596fda083baf21ff38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smtp_client_notify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">smtpClientEvent</a>&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the user application when SMTP client operation ends. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>SMTP client notification event </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function is called by the system to inform about events.</dd></dl>
<p>The function <b>smtp_client_notify</b> is called automatically when a SMTP event occurred and notifies the user application when the SMTP client operation ends.</p>
<p>The argument <em>event</em> is an SMTP client signal as defined in <a class="el" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">smtpClientEvent</a>.</p>
<p>The function takes one of the following SMTP events: </p>
<table class="doxtable">
<tr>
<th>Event </th><th>Description  </th></tr>
<tr>
<td><span class="XML-Token">smtpClientSuccess</span> </td><td>The email has been sent successfully. </td></tr>
<tr>
<td><span class="XML-Token">smtpClientTimeout</span> </td><td>SMTP Server response has timed out, and hence the SMTP client has aborted the operation. The email has not been sent. </td></tr>
<tr>
<td><span class="XML-Token">smtpClientError</span> </td><td>Protocol error occurred while sending email. The email has not been sent. </td></tr>
</table>
<p>You can customize the function in <b>SMTP_Client_UIF.c</b>.</p>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Notify the user application when SMTP client operation ends.</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="group__net__smtp_func.html#gad1a88de7806a66596fda083baf21ff38">smtp_client_notify</a> (<a class="code" href="group__net__smtp_func.html#ga231d5dcfc22506fd65f3db0c7335f08e">smtpClientEvent</a> event) {</div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga231d5dcfc22506fd65f3db0c7335f08ea86ce1bf0bb45568c0e3ffd83e171cac4">smtpClientSuccess</a>:</div>
<div class="line">      <span class="comment">// Email successfully sent</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga231d5dcfc22506fd65f3db0c7335f08ea6ce56d9ab31bb8a0318dcc3fc21da4d3">smtpClientTimeout</a>:</div>
<div class="line">      <span class="comment">// Timeout sending email</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga231d5dcfc22506fd65f3db0c7335f08ea38a5b56b8a6d7bae8903450b793861b9">smtpClientError</a>:</div>
<div class="line">      <span class="comment">// Error when sending email</span></div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gaf0d9b74132f2ae67acba57d6ceffc03d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t smtp_client_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">smtpClientRequest</a>&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buflen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pvar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request parameters for SMTP client session. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">request</td><td>request code. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>output buffer to write the data to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buflen</td><td>length of the output buffer in bytes. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">pvar</td><td>pointer to a session's local buffer of 4 bytes.<ul>
<li>1st call = set to 0,</li>
<li>2nd call = not altered by the system,</li>
<li>3rd call = not altered by the system, etc. </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>number of bytes written to output buffer.</dd></dl>
<p>The function <b>smtp_client_request</b> sends a client request to the SMTP server and returns the actual number of bytes written to the output buffer <em>buf</em>.</p>
<p>The argument <em>request</em> is an SMTP client signal as defined in <a class="el" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">smtpClientRequest</a>.</p>
<p>The argument <em>buf</em> points to the buffer to which data are written. The argument <em>buflen</em> is the <em>buf</em> data length in bytes.</p>
<p>The argument <em>pvar</em> points to the local session buffer with a length of 4 bytes.</p>
<p>You can customize the function in <b>SMTP_Client_UIF.c</b>.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>The length of the output buffer, <em>buflen</em> might vary because buffer length is determined by the TCP socket Maximum Segment Size (MSS) negotiation. It is normally around 1400 bytes for local LAN. But this can be reduced to 500 bytes or even less.</li>
<li>If the <b>smtp_client_request</b> function writes more bytes than <em>buflen</em> into the output buffer, then a system crash resulting from corruption of memory link pointers is highly likely.</li>
<li>The argument <em>pvar</em> is private to each SMTP Session. The SMTP Client clears the data in the <em>pvar</em> pointer to 0 before the function is called for the first time.</li>
</ul>
</dd></dl>
<p><b>Code Example</b> </p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="rl__net_8h.html">rl_net.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Request parameters for SMTP client session.</span></div>
<div class="line">uint32_t <a class="code" href="group__net__smtp_func.html#gaf0d9b74132f2ae67acba57d6ceffc03d">smtp_client_request</a> (<a class="code" href="group__net__smtp_func.html#ga99e89e7724c8c297ff82cc0bdf376edb">smtpClientRequest</a> request, <span class="keywordtype">char</span> *buf, uint32_t buflen, uint32_t *pvar) {</div>
<div class="line">  uint32_t len = 0;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">switch</span> (request) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba5559abd58aeed4a98951ffb98d127a34">smtpClientUsername</a>:</div>
<div class="line">      <span class="comment">// Username to login to SMTP server</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;guest&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba96d5b6a19878c18c0215291617b3ab52">smtpClientPassword</a>:</div>
<div class="line">      <span class="comment">// Password to login to SMTP server</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;guest&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edbaaa9636becb6f295705e34d907e5e0794">smtpClientSender</a>:</div>
<div class="line">      <span class="comment">// Email address of the sender</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;me@domain.com&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba765cce6fb742a2ca53ace2891e5329d3">smtpClientRecipient</a>:</div>
<div class="line">      <span class="comment">// Email address of the recipient</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;you@domain.com&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba82e123f72b4432ed90a76253c62527ef">smtpClientSubject</a>:</div>
<div class="line">      <span class="comment">// Subject of email</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;Hello&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net_8h.html#ga99e89e7724c8c297ff82cc0bdf376edba4f89a147b16f947a73baafc2d8aee6ca">smtpClientBody</a>:</div>
<div class="line">      <span class="comment">// Email body in plain ascii format</span></div>
<div class="line">      len = sprintf (buf, <span class="stringliteral">&quot;Hello, how are you?\r\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">return</span> (len);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Request parameters for SMTP client session. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 25 2021 13:57:56 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
