<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Execution Models</title>
<title>Graphics Component: Execution Models</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Graphics Component
   &#160;<span id="projectnumber">Version 6.16.3</span>
   </div>
   <div id="projectbrief">MDK Middleware for Graphical User Interfaces</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('gui_exec_model.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Execution Models </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The Graphics component supports in principle three execution models (for more information please refer to <a class="el" href="gui_documentation.html">User and Reference Guide</a> - <em>15. Execution Model: Single Task/Multitask</em>):</p>
<h1><a class="anchor" id="gui_superloop"></a>
Single Task System (Superloop)</h1>
<p>The entire program runs in one superloop. Normally, all software components are periodically called. Interrupts must be used for real time parts of the software since no real time kernel is used.</p>
<h1><a class="anchor" id="gui_single_task"></a>
Multitask system: One Task Calling Graphics Functions</h1>
<p>A CMSIS-RTOS is used, but only one task calls Graphics functions. From the Graphics component point of view, it is the same as being used in a single task system.</p>
<p>An user code template is available for this execution model (<b>GUI_SingleThread.c</b>). You can add it to a project by right-clicking on the Source Group and selecting <b>Add New Item to Group</b>. Under the <b>Graphics</b> component, you will find the <b>emWin GUI Thread for Single-Tasking Execution Model</b>.</p>
<p>In this file, a <code>GUIThread</code> is defined with a stack size of <code>2048</code> bytes. This value is based on the stack requirements as described in the <a class="el" href="gui_documentation.html">User and Reference Guide</a> - <em>35.2.2 Stack Requirements</em>. As stated there, you can reduce this stack size by 200 bytes if no memory devices are used and an additional 600 bytes if the <b>Window Manager</b> is not used.</p>
<p>In case <b>RTX v5</b> is used <b>no changes to RTX settings</b> are necessary as all resources are allocated statically. In case <b>RTX v4</b> is used you need to change following settings in <script>link_ext('RTX-Conf-CM4');</script> file:</p>
<ul>
<li>Increase the <b>Number of concurrent running user threads</b> by <b>1</b> </li>
<li>Increase the <b>Number of threads with user-provided stack size</b> by <b>1</b> </li>
<li>Increase <b>Total stack size [bytes] for threads with user-provided stack size</b> by <b>2048</b> (for reduction of this value check explanation above)</li>
</ul>
<h1><a class="anchor" id="gui_multi_task"></a>
Multitask System: Multiple Tasks Calling Graphics Functions</h1>
<p>A CMSIS-RTOS is used, and multiple tasks call Graphics functions. This works without a problem as long as the software is made thread-safe, which is done by enabling multitask support in the configuration and adapting the kernel interface routines. An user code template is available for this execution model (<b>GUI_MultiThread.c</b>). You can add it to a project by right-clicking on the Source Group and selecting <b>Add New Item to Group</b>. Under the <b>Graphics</b> component, you will find the <b>emWin GUI Thread for Multi-Tasking Execution Model</b>.</p>
<p>In this file, a <code>GUIThread</code> is defined with a stack size of <code>2048</code> bytes. This value is based on the stack requirements as described in the <a class="el" href="gui_documentation.html">User and Reference Guide</a> - <em>35.2.2 Stack Requirements</em>. As stated there, you can reduce this stack size by 200 bytes if no memory devices are used and an additional 600 bytes if the <b>Window Manager</b> is not used. Additionally, two threads are defined with a stack size of 600 bytes that will call this <code>GUIThread</code>.</p>
<p>In case <b>RTX v5</b> is used <b>no changes to RTX settings</b> are necessary as all resources are allocated statically. In case <b>RTX v4</b> is used you need to change following settings in <script>link_ext('RTX-Conf-CM4');</script> file:</p>
<ul>
<li>Increase the <b>Number of concurrent running user threads</b> by <b>3</b> </li>
<li>Increase the <b>Number of threads with user-provided stack size</b> by <b>3</b> </li>
<li>Increase <b>Total stack size [bytes] for threads with user-provided stack size</b> by <b>3248</b> (for reduction of this value check explanation above) </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">index</a></li>
    <li class="footer">Generated on Tue May 25 2021 13:57:28 for Graphics Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
