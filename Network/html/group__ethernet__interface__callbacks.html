<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>User Callbacks</title>
<title>Network Component: User Callbacks</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 7.15.0</span>
   </div>
   <div id="projectbrief">MDK Middleware for IPv4 and IPv6 Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__ethernet__interface__callbacks.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">User Callbacks<div class="ingroups"><a class="el" href="group__net_e_t_h___func.html">Ethernet Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to notify the user application about events on the Ethernet interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaec33d8aae18edc0ce65cad4480246398"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ethernet__interface__callbacks.html#gaec33d8aae18edc0ce65cad4480246398">netETH_Notify</a> (uint32_t if_num, <a class="el" href="group__net_e_t_h___enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a> event, uint32_t val)</td></tr>
<tr class="memdesc:gaec33d8aae18edc0ce65cad4480246398"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify the user of Ethernet link state change event. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <a href="#gaec33d8aae18edc0ce65cad4480246398">More...</a><br/></td></tr>
<tr class="separator:gaec33d8aae18edc0ce65cad4480246398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga44683a9134e3a393c5e8125ce42040f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ethernet__interface__callbacks.html#ga44683a9134e3a393c5e8125ce42040f9">netETH_ReceiveRaw</a> (uint32_t if_num, const uint8_t *buf, uint32_t len)</td></tr>
<tr class="memdesc:ga44683a9134e3a393c5e8125ce42040f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Receive raw Ethernet data. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <a href="#ga44683a9134e3a393c5e8125ce42040f9">More...</a><br/></td></tr>
<tr class="separator:ga44683a9134e3a393c5e8125ce42040f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Functions to notify the user application about events on the Ethernet interface. </p>
<p>An Ethernet link state change is reported by the function <a class="el" href="group__ethernet__interface__callbacks.html#gaec33d8aae18edc0ce65cad4480246398">netETH_Notify</a>. If you need to monitor the status of your connection, you must implement this function. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaec33d8aae18edc0ce65cad4480246398"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void netETH_Notify </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net_e_t_h___enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a>&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Notify the user of Ethernet link state change event. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>Ethernet interface number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Ethernet link state event as defined in <a class="el" href="group__net_e_t_h___enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">val</td><td>pointer to the event value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p>The callback function <b>netETH_Notify</b> polls the link status and notifies the user about state changes.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">Ethernet Interface</a> for which the link status has changed.</p>
<p>The argument <em>event</em> specifies link event, as defined in <a class="el" href="group__net_e_t_h___enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a> enumeration:</p>
<table class="doxtable">
<tr>
<th>Event </th><th>Description  </th></tr>
<tr>
<td><span class="XML-Token">netETH_LinkDown</span> </td><td>Link down </td></tr>
<tr>
<td><span class="XML-Token">netETH_LinkUp</span> </td><td>Link up; val=link_info </td></tr>
<tr>
<td><span class="XML-Token">netETH_Wakeup</span> </td><td>Wake-up (on Magic Packet) </td></tr>
<tr>
<td><span class="XML-Token">netETH_TimerAlarm</span> </td><td>Timer Alarm (PTP) </td></tr>
</table>
<p>The argument <em>val</em> stores the value of the link event.</p>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group__ethernet__interface__callbacks.html#gaec33d8aae18edc0ce65cad4480246398">netETH_Notify</a> (uint32_t if_num, <a class="code" href="group__net_e_t_h___enums.html#ga91c7668b025ba3e42dab01ff59e67a5f">netETH_Event</a> event, uint32_t val) {</div>
<div class="line">  <a class="code" href="group___ethernet__structs.html#struct_n_e_t___e_t_h___l_i_n_k___i_n_f_o">NET_ETH_LINK_INFO</a> *info;</div>
<div class="line">     </div>
<div class="line">  <span class="keywordflow">switch</span> (event) {</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net__ds_8h.html#ga91c7668b025ba3e42dab01ff59e67a5faa6f12b9d6752175e9dc6ba3def7d187c">netETH_LinkDown</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Link is down\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net__ds_8h.html#ga91c7668b025ba3e42dab01ff59e67a5fa29918779e446e948c7afc8730b0ce128">netETH_LinkUp</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Link is up\n&quot;</span>);</div>
<div class="line">      info = (<a class="code" href="group___ethernet__structs.html#struct_n_e_t___e_t_h___l_i_n_k___i_n_f_o">NET_ETH_LINK_INFO</a> *)&amp;val;</div>
<div class="line">      <span class="keywordflow">switch</span> (info-&gt;<a class="code" href="group___ethernet__structs.html#a220859a8b5da0232739a11cbe7f79fc5">speed</a>) {</div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">          printf (<span class="stringliteral">&quot;10 MBit\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 1:</div>
<div class="line">          printf (<span class="stringliteral">&quot;100 MBit\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 2:</div>
<div class="line">          printf (<span class="stringliteral">&quot;1 GBit\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">switch</span> (info-&gt;<a class="code" href="group___ethernet__structs.html#a44b6cae894d7311dcdae7e93969c3c09">duplex</a>) {</div>
<div class="line">        <span class="keywordflow">case</span> 0:</div>
<div class="line">          printf (<span class="stringliteral">&quot;Half duplex\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">        <span class="keywordflow">case</span> 1:</div>
<div class="line">          printf (<span class="stringliteral">&quot;Full duplex\n&quot;</span>);</div>
<div class="line">          <span class="keywordflow">break</span>;</div>
<div class="line">      }</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net__ds_8h.html#ga91c7668b025ba3e42dab01ff59e67a5fa342149b0b68bb39ed6948f1381618587">netETH_Wakeup</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Wakeup frame received\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    <span class="keywordflow">case</span> <a class="code" href="rl__net__ds_8h.html#ga91c7668b025ba3e42dab01ff59e67a5fae1ea6b8d06f76655a770eab5349c5b47">netETH_TimerAlarm</a>:</div>
<div class="line">      printf (<span class="stringliteral">&quot;Timer alarm\n&quot;</span>);</div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">} </div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga44683a9134e3a393c5e8125ce42040f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void netETH_ReceiveRaw </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Receive raw Ethernet data. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>Ethernet interface number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer containing the received data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">len</td><td>length of received data in bytes. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>none.</dd></dl>
<p>The user function <b>netETH_ReceiveRaw</b> is called by the Ethernet interface to provide raw Ethernet frames to the user. The data contains Ethernet header and payload data. This allows the users to implement additional Ethernet protocols, which are not supported by the network library.</p>
<p>The network library calls this function, if the Ethernet Type is not supported. For supported Ethernet Types: ARP (0x0806), IPv4 (0x0800) and IPv6 (0x86dd), the function is not called.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">Ethernet Interface</a> which received the frame.</p>
<p>The argument <em>buf</em> points to a buffer containing the received Ethernet frame data.</p>
<p>The argument <em>len</em> specifies the number of received data bytes.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function is optional. It is not required for a default Ethernet interface configuration.</li>
</ul>
</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group__ethernet__interface__callbacks.html#ga44683a9134e3a393c5e8125ce42040f9">netETH_ReceiveRaw</a> (uint32_t if_num, <span class="keyword">const</span> uint8_t *buf, uint32_t len) {</div>
<div class="line">  uint16_t ether_type;</div>
<div class="line"> </div>
<div class="line">  ether_type = (buf[12] &lt;&lt; 8) | buf[13];</div>
<div class="line">  <span class="keywordflow">if</span> (ether_type == 0x888E) {                   <span class="comment">// EAPoL protocol</span></div>
<div class="line">    <span class="comment">// Process the frame here</span></div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 25 2021 13:57:39 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
