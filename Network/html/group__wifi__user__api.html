<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>User API</title>
<title>Network Component: User API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 7.15.0</span>
   </div>
   <div id="projectbrief">MDK Middleware for IPv4 and IPv6 Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__wifi__user__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">User API<div class="ingroups"><a class="el" href="group__net_wi_fi___func.html">WiFi Interface</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions of the WiFi interface.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab4bacf0c336053959d9f679519860558"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__user__api.html#gab4bacf0c336053959d9f679519860558">netWiFi_Scan</a> (uint32_t if_num, <a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___s_c_a_n___i_n_f_o">NET_WIFI_SCAN_INFO</a> scan_info[], uint32_t *scan_num)</td></tr>
<tr class="memdesc:gab4bacf0c336053959d9f679519860558"><td class="mdescLeft">&#160;</td><td class="mdescRight">Search for available WiFi networks. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <a href="#gab4bacf0c336053959d9f679519860558">More...</a><br/></td></tr>
<tr class="separator:gab4bacf0c336053959d9f679519860558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga21e5415954d60f6efa9b3fe5ea213e59"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__user__api.html#ga21e5415954d60f6efa9b3fe5ea213e59">netWiFi_GetOption</a> (uint32_t if_num, <a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a> option, void *buf, uint32_t buf_len)</td></tr>
<tr class="memdesc:ga21e5415954d60f6efa9b3fe5ea213e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the value of the WiFi driver option. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <a href="#ga21e5415954d60f6efa9b3fe5ea213e59">More...</a><br/></td></tr>
<tr class="separator:ga21e5415954d60f6efa9b3fe5ea213e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabbb13b72cebb270a9ecb6bf3cc2e1325"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__user__api.html#gabbb13b72cebb270a9ecb6bf3cc2e1325">netWiFi_SetOption</a> (uint32_t if_num, <a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a> option, const void *buf, uint32_t buf_len)</td></tr>
<tr class="memdesc:gabbb13b72cebb270a9ecb6bf3cc2e1325"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the value of the WiFi driver option. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <a href="#gabbb13b72cebb270a9ecb6bf3cc2e1325">More...</a><br/></td></tr>
<tr class="separator:gabbb13b72cebb270a9ecb6bf3cc2e1325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad5f9a8d136edec8f731af4c0f43e5b15"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__user__api.html#gad5f9a8d136edec8f731af4c0f43e5b15">netWiFi_Activate</a> (uint32_t if_num, const <a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___c_o_n_f_i_g">NET_WIFI_CONFIG</a> *config)</td></tr>
<tr class="memdesc:gad5f9a8d136edec8f731af4c0f43e5b15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Activate the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <a href="#gad5f9a8d136edec8f731af4c0f43e5b15">More...</a><br/></td></tr>
<tr class="separator:gad5f9a8d136edec8f731af4c0f43e5b15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3190ff17281f917fee24a362354b90b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__user__api.html#gaf3190ff17281f917fee24a362354b90b">netWiFi_Deactivate</a> (uint32_t if_num)</td></tr>
<tr class="memdesc:gaf3190ff17281f917fee24a362354b90b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deactivate the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <a href="#gaf3190ff17281f917fee24a362354b90b">More...</a><br/></td></tr>
<tr class="separator:gaf3190ff17281f917fee24a362354b90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6a10a26a39c17e10765cb6231790e238"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__user__api.html#ga6a10a26a39c17e10765cb6231790e238">netWiFi_IsConnected</a> (uint32_t if_num)</td></tr>
<tr class="memdesc:ga6a10a26a39c17e10765cb6231790e238"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the connection state of the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <a href="#ga6a10a26a39c17e10765cb6231790e238">More...</a><br/></td></tr>
<tr class="separator:ga6a10a26a39c17e10765cb6231790e238"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafa56f8f1d3da36c2f27de72c0dfdc21c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__wifi__user__api.html#gafa56f8f1d3da36c2f27de72c0dfdc21c">netWiFi_GetNetInfo</a> (uint32_t if_num, <a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___n_e_t___i_n_f_o">NET_WIFI_NET_INFO</a> *net_info)</td></tr>
<tr class="memdesc:gafa56f8f1d3da36c2f27de72c0dfdc21c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the network information of the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>].  <a href="#gafa56f8f1d3da36c2f27de72c0dfdc21c">More...</a><br/></td></tr>
<tr class="separator:gafa56f8f1d3da36c2f27de72c0dfdc21c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Functions of the WiFi interface. </p>
<p>In the Network Component, the WiFi interface is, similar to an Ethernet interface, responsible for various Application/Internet/Link layer protocols such as <a class="el" href="group__ethernet__user__api.html#ethernet_arp">ARP</a>, <a class="el" href="group__ethernet__user__api.html#ethernet_ndp">NDP</a>, <a class="el" href="group__ethernet__user__api.html#ethernet_igmp">IGMP</a>, and <a class="el" href="group__ethernet__user__api.html#ethernet_dhcp">DHCP</a>. In the Network Component v7, these protocols are supported for IPv4 and IPv6 connections (where applicable). </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gad5f9a8d136edec8f731af4c0f43e5b15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> netWiFi_Activate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___c_o_n_f_i_g">NET_WIFI_CONFIG</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Activate the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>WiFi interface number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>pointer to the structure with configuration parameters. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function.</dd></dl>
<p>The function <b>netWiFi_Activate</b> activates the specified interface. In station mode, the function connects to the wireless network, which must be available or the operation will fail after the timeout. In the access point mode, the function creates a wireless network by activating the access point.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">WiFi Interface</a> to be activated.</p>
<p>The argument <em>config</em> is a pointer to the <a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___c_o_n_f_i_g">NET_WIFI_CONFIG</a> structure, which provides information needed to activate the WiFi interface.</p>
<ul>
<li><em>ssid:</em> specifies the name of the network you want to connect to, or the network that you want to create.</li>
<li><em>password:</em> specifies the password for accessing the wireless network.</li>
<li><em>security:</em> specifies the type of security that will be used for the connection, defined by <a class="el" href="group__net_wi_fi___enums.html#ga47b4f67d1bf39195b04faa194294b2dc">netWiFi_Security</a>.</li>
<li><em>channel:</em> specifies the WiFi channel which will be used for the connection. <br/>
 Valid channels for 2.4 GHz frequency are from <span class="XML-Token">1</span> to <span class="XML-Token">13</span>. If the value for <em>channel</em> is <span class="XML-Token">0</span>, the system automatically selects the channel:<ul>
<li><b>station:</b> the channel of the AP being connected to is used.</li>
<li><b>access</b> <b>point:</b> the module automatically selects the best channel for the WiFi connection.</li>
</ul>
</li>
<li><em>wps_method:</em> specifies the WiFi Protected Setup (WPS) used, defined by <a class="el" href="group__net_wi_fi___enums.html#ga923615425840e0578bc76e8ba1b9147e">netWiFi_WPS</a>.</li>
<li><em>wps_pin:</em> specifies the PIN code used by WPS, when using the <a class="el" href="rl__net__ds_8h.html#ga923615425840e0578bc76e8ba1b9147eaf071b43f1a5099553b7fe23af4bce7aa">netWiFi_WPS_PIN</a> method.</li>
</ul>
<p>Possible <a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> return values:</p>
<ul>
<li><em>netOK:</em> WiFi interface activated successfully.</li>
<li><em>netError:</em> WiFi driver operation not supported.</li>
<li><em>netInvalidParameter:</em> Invalid parameter provided.</li>
<li><em>netDriverError:</em> WiFi driver operation failed.</li>
<li><em>netTimeout:</em> WiFi driver operation timed out.</li>
</ul>
<p>With the <a class="el" href="rl__net__ds_8h.html#ga923615425840e0578bc76e8ba1b9147ea2f9acc3fcea272b756ae1b59593e9b91">netWiFi_WPS_PBC</a> method, you typically press the button, either real or virtual, both at the access point and the station. No credentials are needed.</p>
<p>With the <a class="el" href="rl__net__ds_8h.html#ga923615425840e0578bc76e8ba1b9147eaf071b43f1a5099553b7fe23af4bce7aa">netWiFi_WPS_PIN</a> method, you must provide the PIN code that you read from the label or screen on the wireless device. WPS configuration for station is used when station connects to an access point. It enables to connect without specifying SSID, Password, Security Type or WiFi Channel. The actual network information can be retrieved once connected with <a class="el" href="group__wifi__user__api.html#gafa56f8f1d3da36c2f27de72c0dfdc21c">netWiFi_GetNetInfo</a>. WPS configuration for access point is used when access point is activated. Subsequent activate calls re-trigger the WPS procedure.</p>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line"><a class="code" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___c_o_n_f_i_g">NET_WIFI_CONFIG</a> wifi_config;</div>
<div class="line"> </div>
<div class="line">wifi_config.<a class="code" href="group___wifi__structs.html#a587ba0cb07f02913598610049a3bbb79">ssid</a>       = <span class="stringliteral">&quot;GuestAccess&quot;</span>;</div>
<div class="line">wifi_config.<a class="code" href="group___wifi__structs.html#aa4a2ebcb494493f648ae1e6975672575">password</a>   = <span class="stringliteral">&quot;guest&quot;</span>;</div>
<div class="line">wifi_config.<a class="code" href="group___wifi__structs.html#aec30474f97bb7bcc198d8d36b646f4f0">security</a>   = <a class="code" href="rl__net__ds_8h.html#ga47b4f67d1bf39195b04faa194294b2dcaba44563e1f60cea0f2b6f23db50ee0db">netWiFi_SecurityWPA2</a>;</div>
<div class="line">wifi_config.<a class="code" href="group___wifi__structs.html#a715f5cb061d11eb75981741eda4dafcd">channel</a>    = 0;</div>
<div class="line">wifi_config.<a class="code" href="group___wifi__structs.html#afe897994ccb1383db83bc3355e69b5a7">wps_method</a> = <a class="code" href="rl__net__ds_8h.html#ga923615425840e0578bc76e8ba1b9147ea21b783b9fc36e1efdfbd6e429c083a99">netWiFi_WPS_None</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Connect to wireless network</span></div>
<div class="line">status = <a class="code" href="group__wifi__user__api.html#gad5f9a8d136edec8f731af4c0f43e5b15">netWiFi_Activate</a> (0, &amp;wifi_config);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code" href="rl__net__ds_8h.html#ga5675a3b88ee02986ae15ae3bb8135551a138e73e2c0ad9ef9426ac81ef809953b">netOK</a>) {</div>
<div class="line">  <span class="comment">// error handling</span></div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gaf3190ff17281f917fee24a362354b90b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">fn <a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> netWiFi_Deactivate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deactivate the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>WiFi interface number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function.</dd></dl>
<p>The function <b>netWiFi_Deactivate</b> deactivates the specified interface.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">WiFi Interface</a> to be deactivated.</p>
<p>Possible <a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> return values:</p>
<ul>
<li><em>netOK:</em> WiFi interface deactivated successfully.</li>
<li><em>netInvalidParameter:</em> Invalid parameter provided.</li>
<li><em>netDriverError:</em> WiFi driver operation failed.</li>
</ul>
<p><b>Code</b> <b>Example</b> (see <a class="el" href="group__wifi__user__api.html#gafa56f8f1d3da36c2f27de72c0dfdc21c">netWiFi_GetNetInfo</a>) </p>

</div>
</div>
<a class="anchor" id="gafa56f8f1d3da36c2f27de72c0dfdc21c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> netWiFi_GetNetInfo </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___n_e_t___i_n_f_o">NET_WIFI_NET_INFO</a> *&#160;</td>
          <td class="paramname"><em>net_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the network information of the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>WiFi interface number. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">net_info</td><td>structure for storing the network information. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function.</dd></dl>
<p>The function <b>netWiFi_GetNetInfo</b> retrieves wireless network information of a connected station. You can use the function to retrieve network information after the initial connection using WPS. Then use this network information for all the subsequent network connections to this wireless network.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">WiFi Interface</a> for obtaining the network information.</p>
<p>The argument <em>net_info</em> is a pointer to the <a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___n_e_t___i_n_f_o">NET_WIFI_NET_INFO</a> structure, where the network information will be returned.</p>
<p>Possible <a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> return values:</p>
<ul>
<li><em>netOK:</em> Network information successfully retrieved.</li>
<li><em>netError:</em> Retrieving not possible in WiFi Access Point mode.</li>
<li><em>netInvalidParameter:</em> Invalid parameter provided.</li>
<li><em>netDriverError:</em> WiFi driver operation failed.</li>
</ul>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line"><a class="code" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___c_o_n_f_i_g">NET_WIFI_CONFIG</a> wifi_config;</div>
<div class="line"><a class="code" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___n_e_t___i_n_f_o">NET_WIFI_NET_INFO</a> net_info;</div>
<div class="line"> </div>
<div class="line">memset(&amp;wifi_config, 0, <span class="keyword">sizeof</span>(wifi_config));</div>
<div class="line"> </div>
<div class="line">wifi_config.<a class="code" href="group___wifi__structs.html#afe897994ccb1383db83bc3355e69b5a7">wps_method</a> = <a class="code" href="rl__net__ds_8h.html#ga923615425840e0578bc76e8ba1b9147ea2f9acc3fcea272b756ae1b59593e9b91">netWiFi_WPS_PBC</a>;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Connect to wireless network (WPS)</span></div>
<div class="line">status = <a class="code" href="group__wifi__user__api.html#gad5f9a8d136edec8f731af4c0f43e5b15">netWiFi_Activate</a> (0, &amp;wifi_config);</div>
<div class="line"><span class="keywordflow">if</span> (status != <a class="code" href="rl__net__ds_8h.html#ga5675a3b88ee02986ae15ae3bb8135551a138e73e2c0ad9ef9426ac81ef809953b">netOK</a>) {</div>
<div class="line">  <span class="comment">// error handling</span></div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Retrieve network information</span></div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__wifi__user__api.html#ga6a10a26a39c17e10765cb6231790e238">netWiFi_IsConnected</a> (0)) {</div>
<div class="line">  status = <a class="code" href="group__wifi__user__api.html#gafa56f8f1d3da36c2f27de72c0dfdc21c">netWiFi_GetNetInfo</a> (0, &amp;net_info);</div>
<div class="line">  <span class="keywordflow">if</span> (status != <a class="code" href="rl__net__ds_8h.html#ga5675a3b88ee02986ae15ae3bb8135551a138e73e2c0ad9ef9426ac81ef809953b">netOK</a>) {</div>
<div class="line">    <span class="comment">// error handling</span></div>
<div class="line">  }</div>
<div class="line">  printf(<span class="stringliteral">&quot;SSID=%s, Password=%s&quot;</span>,net_info.<a class="code" href="group___wifi__structs.html#ae7eccb3e4df8625b86b5572fc16c37c3">ssid</a>, net_info.pass);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Disconnect from wireless network</span></div>
<div class="line"><a class="code" href="group__wifi__user__api.html#gaf3190ff17281f917fee24a362354b90b">netWiFi_Deactivate</a> (0);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga21e5415954d60f6efa9b3fe5ea213e59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> netWiFi_GetOption </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a>&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the value of the WiFi driver option. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>WiFi interface number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>driver option as specified by <a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buf</td><td>buffer to store the option value to. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_len</td><td>length of buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function.</dd></dl>
<p>The function <b>netWiFi_GetOption</b> retrieves the current value of an <em>option</em> for the WiFi interface driver specified by <em>if_num</em>.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">WiFi Interface</a> for which an option should be obtained.</p>
<p>The argument <em>option</em> specifies the driver option <a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a> that is to be retrieved (see <a class="el" href="group__wifi__user__api.html#gabbb13b72cebb270a9ecb6bf3cc2e1325">netWiFi_SetOption</a>).</p>
<p>The argument <em>buf</em> points to a buffer that will be used to store the value of the <em>option</em>.</p>
<p>The argument <em>buf_len</em> specifies the length of the buffer <em>buf</em>.</p>
<p>Possible <a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> return values:</p>
<ul>
<li><em>netOK:</em> Option retrieved successfully.</li>
<li><em>netInvalidParameter:</em> Invalid parameter or not supported option provided.</li>
<li><em>netError:</em> WiFi driver operation not supported.</li>
<li><em>netDriverError:</em> WiFi driver operation failed.</li>
</ul>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line">uint8_t bss_id[6];</div>
<div class="line"> </div>
<div class="line"><a class="code" href="group__wifi__user__api.html#ga21e5415954d60f6efa9b3fe5ea213e59">netWiFi_GetOption</a> (0, <a class="code" href="rl__net__ds_8h.html#gaf58ca452912a3840e742297d4e799508a54c131094795ffbcf3ddbfce8acbdedf">netWiFi_OptionBSSID</a>, bss_id, <span class="keyword">sizeof</span> (bss_id));</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="ga6a10a26a39c17e10765cb6231790e238"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool netWiFi_IsConnected </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the connection state of the WiFi interface. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>WiFi interface number. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>connection state:<ul>
<li>true = Station connected to access point.</li>
<li>false = Station not connected.</li>
</ul>
</dd></dl>
<p>The function <b>netWiFi_IsConnected</b> determines the state of the wireless connection. It returns <span class="XML-Token">true</span> if the WiFi station is connected to wireless access point and IP frames can be exchanged.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">WiFi Interface</a> to check if it is connected.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>You can use the <b>netWiFi_IsConnected</b> function to continuously monitor the WiFi connection state.</li>
</ul>
</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> connect_soc (<span class="keywordtype">void</span>) {</div>
<div class="line">  <span class="comment">// Connect TCP socket when PPP is up. </span></div>
<div class="line">  <span class="keywordflow">if</span>(<a class="code" href="group__wifi__user__api.html#ga6a10a26a39c17e10765cb6231790e238">netWiFi_IsConnected</a>(0)) {</div>
<div class="line">    <a class="code" href="group__tcp__user__api.html#ga5dbbfc3def198bfe40ef51629dc55652">netTCP_Connect</a> (socket_tcp, remip, 1000, 0);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gab4bacf0c336053959d9f679519860558"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> netWiFi_Scan </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___s_c_a_n___i_n_f_o">NET_WIFI_SCAN_INFO</a>&#160;</td>
          <td class="paramname"><em>scan_info</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>scan_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Search for available WiFi networks. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>WiFi interface number. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">scan_info</td><td>array of structures for storing the scan information. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">scan_num</td><td>input maximum number, return number of WiFi networks found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function.</dd></dl>
<p>The function <b>netWiFi_Scan</b> scans the WiFi networks within range. This function is usually executing for a long time, typically for a few seconds. The execution time is determined by the WiFi driver and the number of available WiFi networks.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">WiFi Interface</a> which is used for scanning.</p>
<p>The argument <em>scan_info</em> is a pointer to an array of <a class="el" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___s_c_a_n___i_n_f_o">NET_WIFI_SCAN_INFO</a> structures, where the available network information will be returned.</p>
<p>The argument <em>scan_num</em> is a pointer to the length of <em>scan_info</em> array. It should initially contain the number of records available in <em>scan_info</em>. Upon return, it contains the actual number of WiFi networks found.</p>
<p>Possible <a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> return values:</p>
<ul>
<li><em>netOK:</em> The search was successfully completed.</li>
<li><em>netError:</em> Scanning not possible in WiFi Access Point mode.</li>
<li><em>netInvalidParameter:</em> Invalid parameter provided.</li>
<li><em>netDriverError:</em> WiFi driver operation failed.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>It is common to call the <b>netWiFi_Scan</b> function at system start-up.</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line"><a class="code" href="group___wifi__structs.html#struct_n_e_t___w_i_f_i___s_c_a_n___i_n_f_o">NET_WIFI_SCAN_INFO</a> scan_info[10];</div>
<div class="line">uint32_t scan_num;</div>
<div class="line"> </div>
<div class="line">scan_num = 10;</div>
<div class="line"><span class="keywordflow">if</span> (<a class="code" href="group__wifi__user__api.html#gab4bacf0c336053959d9f679519860558">netWiFi_Scan</a> (0, scan_info, &amp;scan_num) == <a class="code" href="rl__net__ds_8h.html#ga5675a3b88ee02986ae15ae3bb8135551a138e73e2c0ad9ef9426ac81ef809953b">netOK</a>) {</div>
<div class="line">  <span class="comment">// Print SSIDs of available WiFi networks</span></div>
<div class="line">  <span class="keywordflow">for</span> (i = 0; i &lt; scan_num; i++) {</div>
<div class="line">    printf (%d. ssid=%s\n<span class="stringliteral">&quot;, i, scan_info[i].ssid);</span></div>
<div class="line"><span class="stringliteral">  }</span></div>
<div class="line"><span class="stringliteral">}</span></div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="gabbb13b72cebb270a9ecb6bf3cc2e1325"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> netWiFi_SetOption </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>if_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a>&#160;</td>
          <td class="paramname"><em>option</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>buf_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the value of the WiFi driver option. [<a class="el" href="group__function__categories.html#thread-safe">thread-safe</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">if_num</td><td>WiFi interface number. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">option</td><td>driver option as specified by <a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>buffer containing the option value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf_len</td><td>length of buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>status code that indicates the execution status of the function.</dd></dl>
<p>The function <b>netWiFi_SetOption</b> sets different options for the WiFi interface driver identified by the argument <em>if_num</em>.</p>
<p>The argument <em>if_num</em> specifies the <a class="el" href="group__net_interfaces___common.html#interface_num">WiFi Interface</a> for which the option must be set.</p>
<p>The argument <em>option</em> specifies the driver option <a class="el" href="group__net_wi_fi___enums.html#gaf58ca452912a3840e742297d4e799508">netWiFi_Option</a> that is to be set (see below).</p>
<p>The argument <em>buf</em> points to a buffer containing the value of the option to be set.</p>
<p>The argument <em>buf_len</em> specifies the actual length of the buffer <em>buf</em> and must match the length of the corresponding option as specified with argument <em>option</em> (see below).</p>
<table class="doxtable">
<tr>
<th>Option </th><th>Description </th><th>Length  </th></tr>
<tr>
<td><span class="XML-Token">netWiFi_OptionBSSID</span> </td><td>BSSID of the WiFi Station or Access Point </td><td>6 bytes </td></tr>
<tr>
<td><span class="XML-Token">netWiFi_OptionTxPower</span> </td><td>WiFi transmit power </td><td>4 bytes </td></tr>
<tr>
<td><span class="XML-Token">netWiFi_OptionLpTimer</span> </td><td>Low-power deep-sleep time </td><td>4 bytes </td></tr>
<tr>
<td><span class="XML-Token">netWiFi_OptionDTIM</span> </td><td>DTIM interval </td><td>4 bytes </td></tr>
<tr>
<td><span class="XML-Token">netWiFi_OptionBeacon</span> </td><td>Beacon interval </td><td>4 bytes </td></tr>
</table>
<p>Possible <a class="el" href="group__net_status_error_codes.html#ga5675a3b88ee02986ae15ae3bb8135551">netStatus</a> return values:</p>
<ul>
<li><em>netOK:</em> Option successfully set.</li>
<li><em>netInvalidParameter:</em> Invalid parameter or not supported option provided.</li>
<li><em>netError:</em> WiFi driver operation not supported.</li>
<li><em>netDriverError:</em> WiFi driver operation failed.</li>
</ul>
<p><b>Code</b> <b>Example</b> </p>
<div class="fragment"><div class="line">uint8_t  bss_id[6] = { 0x10, 0x11, 0x12, 0x13, 0x14, 0x15 };</div>
<div class="line">uint32_t beacon_interval = 100;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Set BSSID and beacon interval 100ms</span></div>
<div class="line"><a class="code" href="group__wifi__user__api.html#gabbb13b72cebb270a9ecb6bf3cc2e1325">netWiFi_SetOption</a> (0, <a class="code" href="rl__net__ds_8h.html#gaf58ca452912a3840e742297d4e799508a54c131094795ffbcf3ddbfce8acbdedf">netWiFi_OptionBSSID</a>, bss_id, <span class="keyword">sizeof</span> (bss_id));</div>
<div class="line"><a class="code" href="group__wifi__user__api.html#gabbb13b72cebb270a9ecb6bf3cc2e1325">netWiFi_SetOption</a> (0, <a class="code" href="rl__net__ds_8h.html#gaf58ca452912a3840e742297d4e799508a46780f8794d90040409025ba3fd51cfd">netWiFi_OptionBeacon</a>, &amp;beacon_interval, <span class="keyword">sizeof</span>(beacon_interval));</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 25 2021 13:57:39 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
