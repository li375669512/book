<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Access Interface</title>
<title>Network Component: Access Interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Network Component
   &#160;<span id="projectnumber">Version 7.15.0</span>
   </div>
   <div id="projectbrief">MDK Middleware for IPv4 and IPv6 Networking</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Usage&#160;and&#160;Description</span></a></li>
      <li><a href="modules.html"><span>Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__tftp__server__access.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Access Interface<div class="ingroups"><a class="el" href="group__net_t_f_t_ps___func.html">TFTP Server</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Functions to filter access to the TFTP server.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab05c8ba4e93e67235ca3ac5e955288f4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tftp__server__access.html#gab05c8ba4e93e67235ca3ac5e955288f4">netTFTPs_AcceptClient</a> (const <a class="el" href="group__network__structs.html#struct_n_e_t___a_d_d_r">NET_ADDR</a> *addr)</td></tr>
<tr class="memdesc:gab05c8ba4e93e67235ca3ac5e955288f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Accept or deny connection from a remote TFTP client. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>].  <a href="#gab05c8ba4e93e67235ca3ac5e955288f4">More...</a><br/></td></tr>
<tr class="separator:gab05c8ba4e93e67235ca3ac5e955288f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<p>Functions to filter access to the TFTP server. </p>
<p>To filter the access to the TFTP server, the optional function <a class="el" href="group__tftp__server__access.html#gab05c8ba4e93e67235ca3ac5e955288f4">netTFTPs_AcceptClient</a> is used. It is part of the template file <b>TFTP_Server_Access.c</b>. If this template file is missing in the ÂµVision project, the function will not be available and thus connections from all remote clients will be accepted. You need to adapt the function to the application's needs by specifying the rules for allowed/blocked clients. The TFTP server will use the information in this function to filter the access. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gab05c8ba4e93e67235ca3ac5e955288f4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool netTFTPs_AcceptClient </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="group__network__structs.html#struct_n_e_t___a_d_d_r">NET_ADDR</a> *&#160;</td>
          <td class="paramname"><em>addr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Accept or deny connection from a remote TFTP client. [<a class="el" href="group__function__categories.html#user-provided">user-provided</a>]. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">addr</td><td>structure containing IP address and port of remote TFTP client. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><ul>
<li>true = Connection from the remote client is allowed.</li>
<li>false = Connection is denied.</li>
</ul>
</dd></dl>
<p>The function <b>netTFTPs_AcceptClient</b> checks if a connection from the remote client is allowed. This enables remote client filtering to decide which clients are allowed to connect to the TFTP server.</p>
<p>The argument <em>addr</em> points to a buffer containing the IP address and port of the remote machine.</p>
<dl class="section note"><dt>Note</dt><dd>This function is optional. If missing, the library default function is used which accepts all remote clients.</dd></dl>
<p><b>Code</b> <b>Example</b> </p>
<p>The following example is available in the user code template file <b>TFTP_Server_Access.c</b>. Customize it to the application's needs.</p>
<div class="fragment"><div class="line"><span class="keywordtype">bool</span> <a class="code" href="group__tftp__server__access.html#gab05c8ba4e93e67235ca3ac5e955288f4">netTFTPs_AcceptClient</a> (<span class="keyword">const</span> <a class="code" href="group__network__structs.html#struct_n_e_t___a_d_d_r">NET_ADDR</a> *addr) {</div>
<div class="line">  <span class="keywordflow">if</span> (addr-&gt;<a class="code" href="group__network__structs.html#a0444de3555073772ebd025a838b9a911">addr_type</a> == <a class="code" href="rl__net__ds_8h.html#ab5ae61a54f36e338a8dc06cee088d89f">NET_ADDR_IP4</a>) {</div>
<div class="line">    <span class="comment">// IPv4 client</span></div>
<div class="line">    <span class="keywordflow">if</span> (addr-&gt;<a class="code" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b">addr</a>[0] == 192  &amp;&amp;</div>
<div class="line">        addr-&gt;<a class="code" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b">addr</a>[1] == 168  &amp;&amp;</div>
<div class="line">        addr-&gt;<a class="code" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b">addr</a>[2] == 0    &amp;&amp;</div>
<div class="line">        addr-&gt;<a class="code" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b">addr</a>[3] == 1) {</div>
<div class="line">      <span class="comment">// Accept connection from client at 192.168.0.1</span></div>
<div class="line">      <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span> {</div>
<div class="line">    <span class="comment">// IPv6 client</span></div>
<div class="line">    <span class="keyword">const</span> uint8_t ip6_addr[<a class="code" href="rl__net__ds_8h.html#afc2dd6f6b5b737eae868a756d38ed846">NET_ADDR_IP6_LEN</a>] = { </div>
<div class="line">                     0xfe, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,</div>
<div class="line">                     0x1c, 0x30, 0x6c, 0xff, 0xfe, 0xa2, 0x45, 0x5e };</div>
<div class="line">    <span class="keywordflow">if</span> (memcmp (addr-&gt;<a class="code" href="group__network__structs.html#a110c5dd7725b86823c9408661a3f854b">addr</a>, ip6_addr, <a class="code" href="rl__net__ds_8h.html#afc2dd6f6b5b737eae868a756d38ed846">NET_ADDR_IP6_LEN</a>) == 0) {</div>
<div class="line">      <span class="comment">// Accept connection from client at [fe80::1c30:6cff:fea2:455e]</span></div>
<div class="line">      <span class="keywordflow">return</span> (<span class="keyword">true</span>);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Deny connection.</span></div>
<div class="line">  <span class="keywordflow">return</span> (<span class="keyword">false</span>);</div>
<div class="line">}</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue May 25 2021 13:57:38 for Network Component by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
