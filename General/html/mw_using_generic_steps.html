<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Generic Steps</title>
<title>MDK Middleware: Generic Steps</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="drv.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="printComponentTabs.js"></script>
<script type="text/javascript" src="URL_keys.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="stylsheetf" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 46px;">
  <td id="projectlogo"><img alt="Logo" src="keilarm.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">MDK Middleware
   &#160;<span id="projectnumber">Version 7.13.0</span>
   </div>
   <div id="projectbrief">Software Components for MDK-Professional and MDK-Plus</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<div id="DRVnav" class="tabs1">
    <ul class="tablist">
      <script type="text/javascript">
		<!--
		writeComponentTabs.call(this);
		//-->
      </script>
	  </ul>
</div>
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('mw_using_generic_steps.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Generic Steps </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>There are a few generic steps that have to be done to include a middleware component in a µVision project:</p>
<div class="image">
<img src="generic_steps.png" alt="generic_steps.png"/>
<div class="caption">
Generic steps for adding Middleware to a µVision project</div></div>
<h1><a class="anchor" id="add_sw_comp"></a>
Add Software Components</h1>
<p>Using the <b>Manage Run-Time Environment</b> window, you need to select the required software components for your application. The <b>Validation Output</b> helps you to identify dependencies to other software components and resolves them automatically, whenever possible.</p>
<div class="image">
<img src="manage_rte_window.png" alt="manage_rte_window.png"/>
<div class="caption">
Manage Run-Time Environment Window with Validation Errors</div></div>
<h1><a class="anchor" id="conf_mw"></a>
Configure Middleware</h1>
<p>Every middleware component has specific configuration files that need to be adapted to the needs of the application. Depending on the component, more than one file might need to be adapted. For example, the <b>File System</b> component needs to be configured for the amount of files that can be opened simultaneously and the initial current drive in the <b>FS_Config.c</b> file. In addition, you need to set drive specific settings in the <b>FS_Config_<em>Drive</em>_0.h</b> file, such as page and block sizes for Flash memories, general disk sizes for a RAM drive, and the hardware driver number for connecting the drive to the appropriate hardware peripheral driver.</p>
<div class="image">
<img src="file_system_conf.png" alt="file_system_conf.png"/>
<div class="caption">
File System Configuration Files FS_Config_MC_0.h and FS_Config.c</div></div>
<h1><a class="anchor" id="conf_drivers"></a>
Configure Drivers</h1>
<p>Usually, the device driver related to a software component and the associated controller in the microcontroller need to be configured as well. For the middleware, this is usually done in the file <b>RTE_Device.h</b>. Here, you can enable or disable the different hardware controllers and you can specify which device pins are used for the different features of a specific device peripheral.</p>
<div class="image">
<img src="rte_device_h.png" alt="rte_device_h.png"/>
<div class="caption">
RTE_Device.h File for Driver Configuration</div></div>
<h1><a class="anchor" id="conf_sys_req"></a>
Configure System Resources</h1>
<p>Every software component has resource requirements for stack, heap, and memory. Configuration files such as <b>startup_<em>device</em>.s</b> and <script>link_ext('RTX-Conf-CM5');</script> file need to be adapted to these requirements. Every middleware component has a section that explains the resource requirements and gives examples on how to calculate the resulting values for adaption of the configuration files. The section <a class="el" href="mw_using_stack_and_heap.html">Stack, Heap and RTOS Configuration</a> gives you more information about the background and the configuration files that need to be touched.</p>
<div class="image">
<img src="rtx_startup.png" alt="rtx_startup.png"/>
<div class="caption">
RTX_Config.h and startup_device.s for System Resource Configuration</div></div>
<h1><a class="anchor" id="implement_feat"></a>
Implement Application Features</h1>
<p>Finally, the actual application needs to be implemented. For better understanding of the middleware components, take a look at the existing <a class="el" href="mw_using_mw.html#doc_mw">Example projects</a>. They can be used as a starting point for application development. The <a class="el" href="mw_using_mw.html#doc_mw">Reference</a> sections of each middleware component help to understand the API functions for the related components. Various <script>link_ext('uv4_ca_sourcefiles');</script> are available to help you implementing your application. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="mw_using_mw.html">Middleware Documentation</a></li>
    <li class="footer">Generated on Tue May 25 2021 13:57:21 for MDK Middleware by ARM Ltd. All rights reserved.
	<!--
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 
	-->
	</li>
  </ul>
</div>
</body>
</html>
